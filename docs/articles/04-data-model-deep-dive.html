<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content='"What actually comes with a hydrofabric?
'>
<title>The NextGen Hydrofabic Data Model • hydrofabric</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The NextGen Hydrofabic Data Model">
<meta property="og:description" content='"What actually comes with a hydrofabric?
'>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">hydrofabric</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.7</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/NOAA-OWP/hydrofabric/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="04-data-model-deep-dive_files/htmlwidgets-1.6.2/htmlwidgets.js"></script><script src="04-data-model-deep-dive_files/viz-1.8.2/viz.js"></script><link href="04-data-model-deep-dive_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="04-data-model-deep-dive_files/grViz-binding-1.0.9/grViz.js"></script><link href="04-data-model-deep-dive_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="04-data-model-deep-dive_files/datatables-binding-0.23/datatables.js"></script><link href="04-data-model-deep-dive_files/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="04-data-model-deep-dive_files/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="04-data-model-deep-dive_files/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="04-data-model-deep-dive_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="04-data-model-deep-dive_files/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="04-data-model-deep-dive_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="04-data-model-deep-dive_files/leaflet-1.3.1/leaflet.js"></script><link href="04-data-model-deep-dive_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="04-data-model-deep-dive_files/proj4-2.6.2/proj4.min.js"></script><script src="04-data-model-deep-dive_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="04-data-model-deep-dive_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="04-data-model-deep-dive_files/leaflet-binding-2.2.0/leaflet.js"></script><script src="04-data-model-deep-dive_files/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script><script src="04-data-model-deep-dive_files/leaflet-providers-plugin-2.2.0/leaflet-providers-plugin.js"></script><link href="04-data-model-deep-dive_files/HomeButton-0.0.1/home-button.css" rel="stylesheet">
<script src="04-data-model-deep-dive_files/HomeButton-0.0.1/home-button.js"></script><script src="04-data-model-deep-dive_files/HomeButton-0.0.1/easy-button-src.min.js"></script><script src="04-data-model-deep-dive_files/clipboard-0.0.1/setClipboardText.js"></script><link href="04-data-model-deep-dive_files/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet">
<link href="04-data-model-deep-dive_files/mapviewCSS-0.0.1/mapview.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>The NextGen Hydrofabic Data Model</h1>
                        <h4 data-toc-skip class="author">Mike
Johnson</h4>
            <address class="author_afil">
      Lynker, NOAA-Affiliate<br><small class="dont-index">Source: <a href="https://github.com/NOAA-OWP/hydrofabric/blob/HEAD/vignettes/04-data-model-deep-dive.Rmd" class="external-link"><code>vignettes/04-data-model-deep-dive.Rmd</code></a></small>
      <div class="d-none name"><code>04-data-model-deep-dive.Rmd</code></div>
    </address>
</div>

    
    
<div class="section level2">
<h2 id="data-model">Data Model<a class="anchor" aria-label="anchor" href="#data-model"></a>
</h2>
<p>A rigorous data model has been developed to provide the minimal, yet
efficient, types of data needed for modeling, hydrofabric subsetting,
cross walking, and indexing.</p>
<p>Much of this design stems from the OGC report <a href="https://docs.ogc.org/per/22-040.html" class="external-link">here</a> with modifications
made for the NextGen modelling application.</p>
<p>The current data model contains 7 data layers with an anticipated 8th
for water bodies.</p>
<p>5 of these are spatial and 2 are a-spatial highlighting the value of
the geopackage model:</p>
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-6f9eae20c7f7416de6c0" style="width:100%;height:768px;"></div>
<script type="application/json" data-for="htmlwidget-6f9eae20c7f7416de6c0">{"x":{"diagram":"#data_model\ndigraph {\ngraph [rankdir=LR tooltip=\"Data Model\" ]\n\nnode [margin=0 fontcolor = \"#444444\" ]\n\nedge [color = \"#555555\", arrowsize = 1, ]\n\npack=true\npackmode= \"node\"\n\n  \"divides\" [id = \"divides\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#AA0000AA\">\n    <TR>\n      <TD COLSPAN=\"2\" BGCOLOR=\"#FF0000FF\" BORDER=\"0\"><FONT COLOR=\"#FFFFFF\">divides<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\" PORT=\"divide_id\"><U>divide_id<\/U><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">toid<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">ds_id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">areasqkm<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">type<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">has_flowline<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">lgl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">geometry<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">dbl<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"flowlines\" [id = \"flowlines\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#AA0000AA\">\n    <TR>\n      <TD COLSPAN=\"2\" BGCOLOR=\"#FF0000FF\" BORDER=\"0\"><FONT COLOR=\"#FFFFFF\">flowlines<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\" PORT=\"id\"><U>id<\/U><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">toid<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">mainstem<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">order<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">hydroseq<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">lengthkm<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">areasqkm<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">tot_drainage_areasqkm<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">divide_id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">has_divide<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">lgl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">geometry<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">dbl<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"flowpath_attributes\" [id = \"flowpath_attributes\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#0000AAAA\">\n    <TR>\n      <TD COLSPAN=\"2\" BGCOLOR=\"#0000FFFF\" BORDER=\"0\"><FONT COLOR=\"#FFFFFF\">flowpath_attributes<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\" PORT=\"id\"><U>id<\/U><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">rl_gages<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">NHDWaterbodyComid<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">Qi<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">MusK<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">MusX<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">n<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">So<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">ChSlp<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">BtmWdth<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">Kchan<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">nCC<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">TopWdthCC<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">TopWdth<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">length_m<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"hydrolocations\" [id = \"hydrolocations\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#AA0000AA\">\n    <TR>\n      <TD COLSPAN=\"2\" BGCOLOR=\"#FF0000FF\" BORDER=\"0\"><FONT COLOR=\"#FFFFFF\">hydrolocations<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\" PORT=\"hl_id\"><U>hl_id<\/U><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">hl_reference<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">hl_link<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">hl_uri<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">hl_position<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">geometry<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">dbl<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"lakes\" [id = \"lakes\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#0000AAAA\">\n    <TR>\n      <TD COLSPAN=\"2\" BGCOLOR=\"#0000FFFF\" BORDER=\"0\"><FONT COLOR=\"#FFFFFF\">lakes<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\" PORT=\"id\"><U>id<\/U><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">toid<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">hl_id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">hl_reference<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">hl_link<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">hl_uri<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">Dam_Length<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">ifd<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">LkArea<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">LkMxE<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">OrificeA<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">OrificeC<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">OrificeE<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">time<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">WeirC<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">WeirE<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">WeirL<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">geometry<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"network\" [id = \"network\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#AA0000AA\">\n    <TR>\n      <TD COLSPAN=\"2\" BGCOLOR=\"#FF0000FF\" BORDER=\"0\"><FONT COLOR=\"#FFFFFF\">network<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">toid<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">divide_id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">ds_id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">mainstem<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">hydroseq<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">wb_id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">hl_id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">hl_uri<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">hf_source<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">hf_id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">lengthkm<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">areasqkm<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">tot_drainage_areasqkm<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">type<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">vpu<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFCCCCFF\">chr<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"nexus\" [id = \"nexus\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#0000AAAA\">\n    <TR>\n      <TD COLSPAN=\"2\" BGCOLOR=\"#0000FFFF\" BORDER=\"0\"><FONT COLOR=\"#FFFFFF\">nexus<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\" PORT=\"id\"><U>id<\/U><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">toid<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">hl_id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">hl_uri<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">type<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">chr<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">geometry<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#CCCCFFFF\">dbl<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"WB\" [id = \"WB\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#7E7E7EAA\">\n    <TR>\n      <TD COLSPAN=\"2\" BGCOLOR=\"#BEBEBEFF\" BORDER=\"0\"><FONT COLOR=\"#000000\">WB<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F2F2FF\">id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F2F2FF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F2F2FF\" PORT=\"wb_id\"><U>wb_id<\/U><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F2F2FF\">int<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F2F2FF\">wb_area<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F2F2FF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F2F2FF\">wb_source<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F2F2FF\">dbl<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F2F2FF\">geometry<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F2F2FF\">dbl<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n\n}","config":{"engine":null,"options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="divides">1. <a href="https://docs.opengeospatial.org/is/14-111r6/14-111r6.html#_catchment_divide" class="external-link">Divides</a><a class="anchor" aria-label="anchor" href="#divides"></a>
</h2>
<ul>
<li><p>Divides represent the incremental area draining to a
flowpath.</p></li>
<li><p>They are a one-dimensional, hydrology-specific realization of the
holistic catchment.</p></li>
<li><p>Geometrically, each divide is a an edge bounded by inflow and
outflow nodes forming a POLYGON</p></li>
</ul>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-26b6ec3bccad12443dc5" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-26b6ec3bccad12443dc5">{"x":{"filter":"none","vertical":false,"data":[["divide_id","toid","type","ds_id","areasqkm","id","lengthkm","tot_drainage_areasqkm","has_flowline","geometry"],["A hydrofabric specfic, globaly unique divide identifier","The identifier of the directly downstream flowpath/flowline","Type of network feature (network, internal, coastal, connector)","Most downstream adjacent divide. Only applicable to internal catchments","The area of the incremental divides","A hydrofabric specfic, globaly unique flowline identifier","The length in kilometers of the flowpath element","The total upstream area contributing to the feature","Does an abstract catchment have a flowline/flowpath realization","Simple Features Geometry (POINT, LINESTRING, POLYGON)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Attribute<\/th>\n      <th>Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":35,"dom":"t","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,25,35,50,100]}},"evals":[],"jsHooks":[]}</script><div class="section level3">
<h3 id="divide-type">Divide Type<a class="anchor" aria-label="anchor" href="#divide-type"></a>
</h3>
<p>Divides provide a continuous coverage of the modeling domain. While
the majority of the domain is dendritic, there are areas where there is
a divide with no flow, or, flow with no divide.</p>
<p>For example:</p>
<ul>
<li><p>a coastal divide has an area, but no flowpath.</p></li>
<li><p>an internally draining region (sink) has an area, but no flow
path</p></li>
<li><p>An artificial path (canal) has a flowpath, but no associated
drainage area</p></li>
</ul>
<blockquote>
<p>When both a divide and flowpath representation exisit, there is a
<code>1</code>:<code>1</code> relationship meaning there is one
<code>flowpath</code> representation for each <code>divide</code>. In
this case the numeric ID of each is the same</p>
</blockquote>
<p>In the future, we will support the ability to have
<code>1:many</code> <code>divide</code>:<code>*flowline*</code>
representations</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">divides</span> <span class="op">=</span> <span class="fu">read_sf</span><span class="op">(</span><span class="va">poudre</span>, <span class="st">"divides"</span><span class="op">)</span></span>
<span><span class="fu">mapview</span><span class="op">(</span><span class="va">divides</span><span class="op">[</span><span class="fl">5</span>,<span class="op">]</span><span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-e34b52a8a1032410e008" style="width:100%;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-e34b52a8a1032410e008">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[-105.6587437994185,-105.6572461975691,-105.6552472011073,-105.654498403722,-105.6535681001126,-105.652390595863,-105.6500718024951,-105.6490032025363,-105.6467934047085,-105.6456159022047,-105.6454707953146,-105.6428323981847,-105.6422586037737,-105.6404413977339,-105.637410700933,-105.6370482006613,-105.6376881028236,-105.6378267954349,-105.6403198976381,-105.6414608986199,-105.6435614963058,-105.6442375958413,-105.6457709971576,-105.6459524026766,-105.6475584011834,-105.6485906052706,-105.6495140031449,-105.6512220970716,-105.6524653005283,-105.656739004439,-105.6584833949758,-105.6593339022946,-105.6594721032946,-105.659966396812,-105.6613182012072,-105.6634548027569,-105.6654824974029,-105.6676843999622,-105.6693557038344,-105.6708815961643,-105.6705544041283,-105.6718332009034,-105.6732211036975,-105.6741437012937,-105.676955700962,-105.6774936993389,-105.6778939017511,-105.677218198795,-105.6773636991571,-105.6767607003456,-105.6769790051305,-105.67673209579,-105.6754168960573,-105.6757807013852,-105.6782733955737,-105.6802360024689,-105.6811665949818,-105.6806728021948,-105.6797136047779,-105.680360995521,-105.6819311961578,-105.6832908993878,-105.6864962947655,-105.6877104969125,-105.6887790013962,-105.6892890983647,-105.6889046947811,-105.6882652041717,-105.6881277027013,-105.6871320020386,-105.6872776950334,-105.6847193979348,-105.6841890999704,-105.6825900989266,-105.6829906985853,-105.6845978981558,-105.6854561016861,-105.6837476996617,-105.68196640447,-105.6806140955082,-105.6784765001527,-105.6775168987745,-105.6756626979915,-105.674448301198,-105.6719543980121,-105.6701366027213,-105.6685297002301,-105.6679915955499,-105.6683404048162,-105.6675914949038,-105.6674460961841,-105.6661591955735,-105.6659047023672,-105.6653667009315,-105.6640872047618,-105.6587437994185],"lat":[40.71413380051258,40.71370960039331,40.71224650170551,40.71203440154179,40.71048979778468,40.70977190374462,40.70860240308542,40.70868389638308,40.70831379671108,40.70759580036269,40.70652990364332,40.70565389936957,40.7040820959799,40.70395130071703,40.70283589870304,40.70017100397421,40.6995837991967,40.69795780043142,40.69776800305496,40.69821960017804,40.69779029895449,40.69746949827621,40.69816040001824,40.69949279612191,40.7007166005075,40.70036869974414,40.69922139895085,40.69855260000724,40.69711159814637,40.69678560035731,40.69638329922494,40.69470289965459,40.69307689814492,40.69142370368262,40.69078200082212,40.69061889934466,40.68965630371363,40.68733419631364,40.68639869762112,40.68439740181449,40.68199920065337,40.68082440203847,40.68044909639992,40.67930160352838,40.67881730107541,40.68012239694476,40.6830536015705,40.68337449715324,40.68444039912904,40.68529420161051,40.68689300092208,40.68771970369956,40.68862800088708,40.69129269685742,40.69110209637064,40.69229819771584,40.69384259804837,40.69549590018499,40.69637700269669,40.69848150275183,40.69943840150874,40.70148839619421,40.70124319957856,40.70222729806837,40.70214550025894,40.70587599956949,40.70832879661704,40.7089162013414,40.71054230362764,40.71115700160051,40.71222289823507,40.71457269714871,40.71595960247578,40.71742820174582,40.72035930078054,40.72158269656023,40.72259410110891,40.7232633032953,40.7233995018044,40.72404139641831,40.72420489768371,40.72508600100137,40.724689202409,40.72370489842431,40.72389549714276,40.72376499775621,40.72254149853323,40.7212362969497,40.71851710014767,40.7183051010005,40.71723910355352,40.71572190155216,40.71385660010794,40.71255139641255,40.71372599668278,40.71413380051258]}]]],null,"divides[5, ]",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6,"smoothFactor":1,"noClip":false},"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>divide_id&emsp;<\/th><td>cat-278683&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278684&emsp;<\/td><\/tr><tr><td>3<\/td><th>type&emsp;<\/th><td>network&emsp;<\/td><\/tr><tr><td>4<\/td><th>ds_id&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>5<\/td><th>areasqkm&emsp;<\/th><td>9.962096&emsp;<\/td><\/tr><tr><td>6<\/td><th>id&emsp;<\/th><td>wb-278683&emsp;<\/td><\/tr><tr><td>7<\/td><th>lengthkm&emsp;<\/th><td>4.226067&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>534.3213&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_flowline&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-105.6892890983647,40.67881730107541,-105.6370482006613,40.72508600100137,true,"divides[5, ]","Zoom to divides[5, ]","<strong> divides[5, ] <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],"divides[5, ]",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["divides[5, ]"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"divides[5, ]"}]}],"limits":{"lat":[40.67881730107541,40.72508600100137],"lng":[-105.6892890983647,-105.6370482006613]},"fitBounds":[40.67881730107541,-105.6892890983647,40.72508600100137,-105.6370482006613,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
</div>
<div class="section level2">
<h2 id="flowpaths">2. <a href="https://docs.opengeospatial.org/is/14-111r6/14-111r6.html#_flowpath_also_flow_path" class="external-link">Flowpaths</a><a class="anchor" aria-label="anchor" href="#flowpaths"></a>
</h2>
<ul>
<li>The flowpath references the path of a moving particle of water</li>
<li>The flowpath can be represented as an edge bounded by inflow and
outflow nodes, and associated with left-bank and right-bank
sub-catchment faces.</li>
<li>Geometrically, each flowpath is a LINESTRING connecting the inflow
to the outflow with some level of sinuosity</li>
<li>The representation of a flowpath can change per modeling application
from straight line to “infinity” sinuous</li>
</ul>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-98868bcfff960c4e7762" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-98868bcfff960c4e7762">{"x":{"filter":"none","vertical":false,"data":[["id","toid","mainstem","order","hydroseq","lengthkm","areasqkm","tot_drainage_areasqkm","has_divide","divide_id","geometry"],["A hydrofabric specfic, globaly unique flowline identifier","The identifier of the directly downstream flowpath/flowline","A nationally unique identifier assigned to the set of flowlines that compose a stream from its headwater to its mouth","Strahler stream order","VPU based hydrologic sort. Increases from downstream to upstream","The length in kilometers of the flowpath element","The area of the incremental divides","The total upstream area contributing to the feature","Does an abstract catchment have a divide realization","A hydrofabric specfic, globaly unique divide identifier","Simple Features Geometry (POINT, LINESTRING, POLYGON)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Attribute<\/th>\n      <th>Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":35,"dom":"t","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,25,35,50,100]}},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Read in all flowpaths</span></span>
<span><span class="va">flowpaths</span> <span class="op">=</span> <span class="fu">read_sf</span><span class="op">(</span><span class="va">poudre</span>, <span class="st">"flowpaths"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define outflow</span></span>
<span><span class="va">outflow</span>  <span class="op">=</span>  <span class="fu">slice_max</span><span class="op">(</span><span class="va">flowpaths</span>, <span class="va">hydroseq</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu">mapview</span><span class="op">(</span><span class="va">outflow</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">divides</span>, <span class="va">divide_id</span> <span class="op">==</span> <span class="va">outflow</span><span class="op">$</span><span class="va">divide_id</span><span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ca02400de0fee1e2bf37" style="width:100%;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-ca02400de0fee1e2bf37">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["line",430]},{"method":"addPolylines","args":[[[[{"lng":[-105.079003814003,-105.0785246140037,-105.0780146140046,-105.0775346140053,-105.0769044140063,-105.07453321401,-105.0737230140112,-105.0733630140118,-105.0731232140122,-105.0723130806801,-105.071893214014,-105.0716836140144,-105.0712338140151,-105.0708438140157,-105.070573614016,-105.0702132806833,-105.0699730140169,-105.0691922806849,-105.0685318140193,-105.0679316140202,-105.0676016140207,-105.0676328140206,-105.067783080687,-105.0691342140183,-105.0695548140176,-105.0696752806842,-105.0695856806842,-105.0694195150798],"lat":[40.5979256036505,40.59641507031968,40.59579707032065,40.59543080365442,40.59517880365487,40.59481167032206,40.59451380365603,40.59426200365627,40.59364407032384,40.59318600365806,40.59279680365854,40.5921102036596,40.59158360366049,40.59140040366069,40.59137740366078,40.59149167032736,40.5916974703269,40.59194880365994,40.59194847032651,40.59176520366019,40.59146747032717,40.5902776036625,40.59009467032951,40.58956900366363,40.58911147033092,40.58860807033178,40.58812760366578,40.58793739047434]}]]],null,"outflow",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"line","stroke":true,"color":"#6666FF","weight":2,"opacity":0.9,"fill":false,"fillColor":"#6666FF","fillOpacity":1,"smoothFactor":1,"noClip":false},"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278698&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278699&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>5&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11627&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>1.889081&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td>6.671705&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>2965.928&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278698&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":3,"opacity":1,"fill":false,"fillOpacity":0,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-105.079003814003,40.58793739047434,-105.0676016140207,40.5979256036505,true,"outflow","Zoom to outflow","<strong> outflow <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["outflow"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"outflow"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[-105.1214032955206,-105.1189127975562,-105.1170997012564,-105.1164908032421,-105.1150676971656,-105.1125292969156,-105.1105655973361,-105.1065832979271,-105.1023135022279,-105.1005002956297,-105.0995011977575,-105.0952312962608,-105.0941980000311,-105.0933839015128,-105.0908931979268,-105.0896406049316,-105.087539699935,-105.0866088004553,-105.0858970969276,-105.0853218980955,-105.0840691026575,-105.0827138980214,-105.0809347042803,-105.0810028953872,-105.0789018020594,-105.0772248045148,-105.077429398591,-105.0779557038908,-105.0787357002943,-105.0788721029475,-105.0785503031899,-105.0778043989188,-105.0765322035665,-105.0758204051386,-105.0749723046916,-105.0739047007694,-105.0712771959155,-105.0712090969788,-105.0685135952194,-105.0682411038095,-105.0646298035064,-105.06413779924,-105.0629341967508,-105.0646452356184,-105.0659323519674,-105.0684231000294,-105.0690325662954,-105.0751154913297,-105.0783667635903,-105.0822417697805,-105.0857994290791,-105.0881191365736,-105.0940645054541,-105.0958773858247,-105.0985384357489,-105.101384437249,-105.1019934088282,-105.1030606444274,-105.1092313768557,-105.112009013891,-105.1142804327203,-105.1164149775753,-105.1177352870288,-105.1192952692899,-105.1234958046928,-105.1283604693272,-105.1294277366528,-105.1300363995152,-105.1325951948036,-105.1304607040514,-105.128669003188,-105.1272802006411,-105.1247897997101,-105.1234008967662,-105.1227921975223,-105.1214032955206],"lat":[40.58471189976132,40.58489160010257,40.58475319647599,40.58560439669838,40.58570700160008,40.58831160224869,40.58979850306508,40.58954720053949,40.58985469647327,40.58971609659875,40.59032620050861,40.59063340372706,40.59097679945682,40.59022810321895,40.59040720138493,40.59184260042002,40.59226270358922,40.59340580271049,40.5934569999765,40.59457460161285,40.59600990246671,40.59664540081351,40.59677319589471,40.59730640177016,40.59772629713301,40.5986538968957,40.60025359688203,40.60156119901532,40.60204330130315,40.60310979709669,40.6034020026466,40.60318640137679,40.60166330138449,40.60171440240308,40.60069899750453,40.60077559623259,40.59988789854564,40.59935460422233,40.59793359706651,40.59580060090827,40.59283080024914,40.59178979615685,40.59079990185074,40.59013908927739,40.58897057152704,40.58879196142554,40.58794106530358,40.58777367871144,40.58511870896366,40.57892101523527,40.57866538628841,40.57715332754564,40.57591859114844,40.57605723867592,40.57721107809421,40.57700621832142,40.57615517064229,40.57607832649421,40.57940082299466,40.57866250912014,40.57957506682903,40.57942116237933,40.57851872880534,40.57948250097118,40.57864128052191,40.5801736513097,40.58009658504407,40.57924540095406,40.57959869758949,40.57975289685821,40.58257310039247,40.58294239594346,40.58312220194065,40.58349150052847,40.58434260106189,40.58471189976132]}]]],null,"filter(divides, divide_id == outflow$divide_id)",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6,"smoothFactor":1,"noClip":false},"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>divide_id&emsp;<\/th><td>cat-278698&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278699&emsp;<\/td><\/tr><tr><td>3<\/td><th>type&emsp;<\/th><td>network&emsp;<\/td><\/tr><tr><td>4<\/td><th>ds_id&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>5<\/td><th>areasqkm&emsp;<\/th><td>6.671705&emsp;<\/td><\/tr><tr><td>6<\/td><th>id&emsp;<\/th><td>wb-278698&emsp;<\/td><\/tr><tr><td>7<\/td><th>lengthkm&emsp;<\/th><td>1.889081&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>2965.928&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_flowline&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addHomeButton","args":[-105.1325951948036,40.57591859114844,-105.0629341967508,40.6034020026466,true,"filter(divides, divide_id == outflow$divide_id)","Zoom to filter(divides, divide_id == outflow$divide_id)","<strong> filter(divides, divide_id == outflow$divide_id) <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],["outflow","filter(divides, divide_id == outflow$divide_id)"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["filter(divides, divide_id == outflow$divide_id)"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"filter(divides, divide_id == outflow$divide_id)"}]},{"method":"addHomeButton","args":[-105.1325951948036,40.57591859114844,-105.0629341967508,40.6034020026466,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[40.58793739047434,40.5979256036505],"lng":[-105.079003814003,-105.0676016140207]},"fitBounds":[40.57591859114844,-105.1325951948036,40.6034020026466,-105.0629341967508,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script><div class="section level3">
<h3 id="durable-integration">Durable Integration<a class="anchor" aria-label="anchor" href="#durable-integration"></a>
</h3>
<ul>
<li>Many fields in the hydrofabric are designed to remain resilient
through the refactor/aggregation process.</li>
<li>Many of these are related to network indexing and integration</li>
<li>A primary one of these is the mainstem identifier that is intended
to remain persistent across network manipulations</li>
<li>This data model is described in detail <a href="https://www.sciencedirect.com/science/article/pii/S1364815220309841" class="external-link">here</a>
and a video is <a href="https://www.usgs.gov/media/videos/waterml2-part-3-surface-hydrology-features-hyfeatures-conceptual-model-and-mainstems" class="external-link">here</a>
</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mainstem Persistent Identifier</span></span>
<span><span class="op">(</span><span class="va">pid</span> <span class="op">=</span> <span class="fu">glue</span><span class="op">(</span><span class="st">"https://geoconnex.us/ref/mainstems/{outflow$mainstem}"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## https://geoconnex.us/ref/mainstems/352913</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Geonconnex PID mainstem read for URL</span></span>
<span><span class="va">geoconnex_mainstem</span> <span class="op">=</span> <span class="fu">read_sf</span><span class="op">(</span><span class="va">pid</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Mainstem defined by membership of the outlets</span></span>
<span><span class="va">hf_mainstem</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">flowpaths</span>, <span class="va">mainstem</span> <span class="op">==</span> <span class="va">outflow</span><span class="op">$</span><span class="va">mainstem</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View</span></span>
<span><span class="fu">mapview</span><span class="op">(</span><span class="va">geoconnex_mainstem</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">mapview</span><span class="op">(</span><span class="va">hf_mainstem</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8a43b16900ee9ac28729" style="width:100%;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-8a43b16900ee9ac28729">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["line",430]},{"method":"addPolylines","args":[[[[{"lng":[-105.8106608128674,-105.7947142795588,-105.7852134129068,-105.773525812925,-105.7605708129451,-105.7513246796261,-105.7443598129703,-105.7344718129856,-105.7318394796563,-105.7319656796561,-105.7383354796463,-105.7355970796505,-105.7376136129806,-105.7371158129815,-105.7420972796405,-105.7427316129727,-105.7473264796323,-105.7498598129617,-105.7525800796241,-105.7547214796209,-105.7642178129395,-105.773931879591,-105.779293412916,-105.7906554795651,-105.7984446128863,-105.8024936795467,-105.8041078128775,-105.8015830795481,-105.8041900128773,-105.8044234795437,-105.8002496128835,-105.7953710128911,-105.8007122128827,-105.7992670795516,-105.8004888128831,-105.8073906128724,-105.8061832128743,-105.809361279536,-105.8101928795347,-105.8128916128639,-105.8092232795362,-105.8091902795363,-105.8038946795445,-105.7970442795552,-105.7868848795709,-105.7764484129204,-105.7661830129363,-105.7608882129446,-105.7587168796146,-105.7591288129473,-105.7544352129545,-105.7537672796224,-105.7494982129623,-105.7511166129598,-105.7460768796342,-105.7412652796418,-105.7397650129773,-105.737448812981,-105.7327916129881,-105.7276140129963,-105.7252920796665,-105.7217150796721,-105.715933079681,-105.7073332130277,-105.7064930796957,-105.7040242130328,-105.701347613037,-105.6995756130398,-105.6935888797157,-105.6870676130592,-105.6796688130707,-105.6768132797418,-105.6742008797458,-105.6678866130889,-105.6623866130975,-105.6501500131164,-105.6355386798058,-105.6274206131518,-105.6243238131566,-105.6196336798305,-105.6062560798513,-105.5992202131955,-105.5818130798892,-105.5772420798963,-105.5740256799013,-105.5669580132457,-105.5621494799197,-105.5537598799327,-105.5386372799563,-105.5308828133016,-105.5227040799809,-105.5190986799866,-105.5195230799859,-105.5157710133251,-105.5127042799965,-105.5087098800027,-105.5026634133454,-105.4942568133584,-105.4913070800297,-105.488545480034,-105.4862278800376,-105.480163880047,-105.4776982133842,-105.4728012133917,-105.4713074800608,-105.4670118134007,-105.4625028134078,-105.4582008134145,-105.455255613419,-105.4529746800893,-105.4467558800988,-105.450492280093,-105.4450212801016,-105.4417470801066,-105.4347088134508,-105.432451280121,-105.4357190134493,-105.4303058134577,-105.4291616134595,-105.4230620801356,-105.4180410801434,-105.4113416801538,-105.4123050134856,-105.409210280157,-105.4038592801655,-105.3965256801769,-105.394030413514,-105.3899424801871,-105.3879892135234,-105.3816164802,-105.3768974135406,-105.379182213537,-105.3765970802078,-105.3704642135506,-105.3716970135487,-105.3683904802205,-105.3626786802294,-105.3551636135744,-105.345513080256,-105.3413044802626,-105.3367632802696,-105.3330060802754,-105.3293972802811,-105.3228176136245,-105.2996432803271,-105.2978062136634,-105.2954326803338,-105.2879456136787,-105.2888122136773,-105.2812640136891,-105.2803580136904,-105.2715530137041,-105.2646058137149,-105.2648236137146,-105.2553260137293,-105.2557364137287,-105.2458338804107,-105.2424370137493,-105.2410804804181,-105.2466078804095,-105.2420026137499,-105.2390478137546,-105.2363124137588,-105.2353776137602,-105.2366964804249,-105.2403024137526,-105.2364204804253,-105.2380232137562,-105.2326400137646,-105.2290084804368,-105.2251206137761,-105.2128278137953,-105.210900880465,-105.204379880475,-105.2016172804792,-105.1860484138368,-105.1738434805225,-105.1729078138573,-105.1678278805318,-105.1686356805305,-105.1666822138669,-105.1435242805695,-105.1390486805765,-105.1281176139268,-105.120640680605,-105.1158662139458,-105.1136446139492,-105.1068586139598,-105.1033470806319,-105.0986944139724,-105.0926012139819,-105.0798440140016,-105.0712338140151,-105.0679316140202,-105.0695856806842,-105.0655944806905,-105.0656272140238,-105.0593550140335,-105.0581872807019,-105.0524856807108,-105.048108214051,-105.0446542140563,-105.0350502807378,-105.0322976807421,-105.0278582140824,-105.0269354807505,-105.0228934807567,-105.0190558807627,-105.016935080766,-105.013728480771,-105.0093176807779,-105.0072528141144,-105.0025416807883,-104.9972790807965,-104.9995494141264,-104.9945296808007,-104.9891646808092,-104.9859816808141,-104.9857872141477,-104.9806888808222,-104.9808286808221,-104.9764230141622,-104.9747834141648,-104.9732230141672,-104.9703780141716,-104.9674690141762,-104.9680334808419,-104.9644038808475,-104.9676976141758,-104.9650244141799,-104.9661602808449,-104.958274280857,-104.9575486808582,-104.9526920808657,-104.950590880869,-104.9466658808751,-104.9416564142163,-104.9385096808878,-104.937312814223,-104.9343744808942,-104.9303290809005,-104.9289488142358,-104.9242430142432,-104.919239614251,-104.9207696809153,-104.9187636142518,-104.9167858809215,-104.9130380809273,-104.9162722142556,-104.9152524142572,-104.9106102142644,-104.9063858809376,-104.9053940142725,-104.9014996809452,-104.8977244809511,-104.893950480957,-104.8896654142969,-104.8840040143057,-104.8835544143064,-104.8794810143127,-104.876545680984,-104.8760366809847,-104.8783426809811,-104.877144680983,-104.8736408143217,-104.8706456143264,-104.8669616809988,-104.865703014334,-104.8624684143391,-104.8592648810107,-104.853932681019,-104.8504588810244,-104.8477026810287,-104.8441984143675,-104.8386250810428,-104.8341040143832,-104.8312886143875,-104.8309268810547,-104.8278712143928,-104.8131654144157,-104.8075988144242,-104.8042410810962,-104.8008592144348,-104.7964846144416,-104.7998662144363,-104.7987860811046,-104.7874692811221,-104.7841708144607,-104.7799776811339,-104.7774596144711,-104.7759626144733,-104.7766548144723,-104.773419081144,-104.7667492811544,-104.7652206811567,-104.7653056144899,-104.767634681153,-104.7629926811602,-104.7627278811606,-104.7601230811647,-104.755408281172,-104.7428512145248,-104.7305344145439,-104.7221186812237,-104.7174726812308,-104.7172300812312,-104.7116296145732,-104.710935881241,-104.7062924812482,-104.7007830145901,-104.6966182812632,-104.6877828812769,-104.6886782812756,-104.686068814613,-104.6828620812846,-104.6801322812888,-104.6739314146318,-104.670998681303,-104.6665374813099,-104.660697881319,-104.6517752813328,-104.6479730813388,-104.6395588146851,-104.6330920146951,-104.6293492813676,-104.6225226147116,-104.6195286813829,-104.6173426813863,-104.6090784147324,-104.6074908814015,-104.6021910814098,-104.5999508814133],"lat":[40.42002227059339,40.43621327056824,40.44236200389195,40.44729520388447,40.45680247053631,40.46770800385273,40.46976920384952,40.46943587051672,40.47216140384581,40.47614280383969,40.48741760382222,40.49913587047064,40.50436227046252,40.5126230704497,40.5157072704449,40.51838380377403,40.52252060376766,40.53036640375549,40.53142460375376,40.54133447040522,40.54846020372736,40.55153507038931,40.55726000371362,40.56379000370364,40.57411480368752,40.57606227035111,40.58196667034216,40.58544307033664,40.58956340366364,40.59581007032047,40.59708887031866,40.61033407029814,40.61326620362677,40.61669760362152,40.6252558702749,40.63056840359998,40.63651687025737,40.64253627024809,40.65253587023258,40.65832607022347,40.66116147021921,40.66420467021447,40.67099727020381,40.66987187020556,40.6715808702029,40.67752180352706,40.68801540351085,40.69059600350673,40.69468960350046,40.69990687015902,40.70198440348908,40.70562180348345,40.70701127014802,40.70825040347942,40.71049300347593,40.71026920347632,40.71210120347349,40.71162300347403,40.71387000347061,40.71037400347604,40.70609720348278,40.70687827014815,40.70043060349143,40.69936187015988,40.70082687015761,40.69794560349543,40.69703220349678,40.69858940349435,40.69502367016649,40.69731560349641,40.69379580350184,40.6944378701675,40.69835167016143,40.69730187016302,40.70014120349196,40.70014467015856,40.70280147015441,40.70069707015774,40.69758527016266,40.69806567016186,40.69424327016768,40.69751407016263,40.69732640349619,40.69892640349372,40.69819280349492,40.70100407015726,40.69891927016035,40.70021887015852,40.69986567015907,40.6981664701617,40.69891467016051,40.69726407016309,40.69515940349967,40.69154067017202,40.69169800350498,40.68952020350851,40.69180227017164,40.69020240350738,40.68810027017723,40.69045987017366,40.68865440350986,40.67479367019798,40.67390360353266,40.67521220353065,40.681414403521,40.68324860351821,40.68311480351832,40.68012047018963,40.68032847018943,40.68325900351815,40.68623780351348,40.69433547016774,40.69479660350027,40.69747587016264,40.69395587016822,40.6907306701732,40.68084400352193,40.67707120352776,40.67448607019854,40.676708470195,40.67382727019939,40.67884067019164,40.68165507018733,40.68392127018387,40.6827328701855,40.68456520351611,40.68291807018542,40.68285007018553,40.68532160351489,40.68358307018436,40.68783947017769,40.69168360350506,40.69463540350042,40.69230147017075,40.68950987017521,40.68726727017863,40.68859407017658,40.68820407017707,40.69110820350599,40.69071800350653,40.69412607016789,40.69309507016948,40.69476420350026,40.68947560350855,40.68690027017915,40.68989660350784,40.68872800350955,40.69014140350748,40.69414640350132,40.69587960349857,40.69867060349431,40.69607747016487,40.69751260349602,40.69298207016976,40.69178287017159,40.69766407016243,40.70301667015414,40.70345507015347,40.70141980348995,40.69878267016066,40.69565267016564,40.69066720350656,40.69083000350641,40.68902320350922,40.68673380351277,40.68597507018058,40.68348480351786,40.67121820353674,40.66893520354044,40.67202760353553,40.66454860354711,40.66272787021667,40.65982327022132,40.65925600355544,40.66088247021959,40.65663567022604,40.64819780357255,40.64195120358225,40.63680460359033,40.63163280359836,40.62971147026806,40.62472907027573,40.62070227028179,40.6191242702843,40.61312887029356,40.61411260362561,40.61180127029575,40.61209787029539,40.6070858703031,40.60443047030726,40.60143127031183,40.59838360364981,40.59158360366049,40.59176520366019,40.58812760366581,40.58709580366749,40.58407540367213,40.58331680367338,40.58047860367781,40.57981160367873,40.5761244703511,40.57850200368083,40.57858647034732,40.57249740369007,40.57130387035848,40.56610847036672,40.56038427037554,40.55859587037835,40.55285027038728,40.55081060372385,40.55135560372285,40.54840147039409,40.54919747039288,40.54249400373662,40.53741140374451,40.53128400375412,40.53325740375094,40.53085767042135,40.52191047043533,40.52148040376937,40.51493567044597,40.51622100377751,40.50221787046575,40.50116647046742,40.50311387046438,40.50229240379907,40.49906607047075,40.49723827047356,40.49476427047733,40.49071607048361,40.48838107048728,40.4855036704918,40.48021807050007,40.47861947050241,40.47546300384068,40.4760374705065,40.47052560384834,40.46997800384923,40.47183220384625,40.46961407051649,40.46911260385065,40.46659607052119,40.4640352038584,40.46394560385849,40.46721720385343,40.46932320385029,40.46907220385063,40.46474860385725,40.46172687052862,40.45966767053184,40.46241520386099,40.46280527052713,40.4553684705386,40.45527780387206,40.45319627054187,40.45505040387243,40.44802580388328,40.44647007055236,40.44335800389058,40.44148167056004,40.4420080705594,40.44020027056204,40.43779747056575,40.43647027056785,40.43697360390038,40.43997127056244,40.44100080389408,40.44530267055414,40.44450140388865,40.43926067056356,40.44278380389136,40.44131847056044,40.44310267055763,40.44310180389088,40.44737927055107,40.44444860388876,40.44437900388893,40.44758240388387,40.44833627054937,40.44665867055216,40.44217027055913,40.44525747055432,40.44287540389132,40.44429127055575,40.44692520388494,40.44852627054911,40.44419307055593,40.44700507055148,40.44665847055212,40.44821240388295,40.44775340388369,40.44546567055395,40.44601200388649,40.44012480389556,40.44076407056131,40.44383047055656,40.44824927054962,40.4477184038838,40.44492640388815,40.4443288705557,40.45125767054495,40.45224567054333,40.44884780388207,40.44988480388048,40.44764600388384,40.44522047055432,40.44581967055337,40.44188427055942,40.44099520389423,40.44234887055883,40.44093267056107,40.44075467056119,40.43743607056638,40.43276920390686,40.42995620391127,40.42382480392086,40.41975420392725,40.42220400392335,40.42261747058941,40.42053687059262,40.42035607059297,40.4216154705909,40.41797827059656,40.41999247059337,40.41866540392884,40.42214360392354,40.41964920392731,40.42244067058949,40.42321787058847,40.42534567058516,40.42493280391918,40.42158207059101]}]]],null,"geoconnex_mainstem",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"line","stroke":true,"color":"#6666FF","weight":2,"opacity":0.9,"fill":false,"fillColor":"#6666FF","fillOpacity":1,"smoothFactor":1,"noClip":false},"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>2<\/td><th>uri&emsp;<\/th><td>https://geoconnex.us/ref/mainstems/352913&emsp;<\/td><\/tr><tr><td>3<\/td><th>downstream_mainstem_id&emsp;<\/th><td>https://geoconnex.us/ref/mainstems/313255&emsp;<\/td><\/tr><tr><td>4<\/td><th>lengthkm&emsp;<\/th><td>200.5&emsp;<\/td><\/tr><tr><td>5<\/td><th>superseded&emsp;<\/th><td>FALSE&emsp;<\/td><\/tr><tr><td>6<\/td><th>encompassing_mainstem_basins&emsp;<\/th><td>['https://geoconnex.us/ref/mainstems/313255', 'https://geoconnex.us/ref/mainstems/312532', 'https://geoconnex.us/ref/mainstems/312091']&emsp;<\/td><\/tr><tr><td>7<\/td><th>outlet_drainagearea_sqkm&emsp;<\/th><td>4875.9&emsp;<\/td><\/tr><tr><td>8<\/td><th>new_mainstemid&emsp;<\/th><td>&emsp;<\/td><\/tr><tr><td>9<\/td><th>fid&emsp;<\/th><td>18032&emsp;<\/td><\/tr><tr><td>10<\/td><th>name_at_outlet&emsp;<\/th><td>Cache la Poudre River&emsp;<\/td><\/tr><tr><td>11<\/td><th>head_rf1id&emsp;<\/th><td>22904&emsp;<\/td><\/tr><tr><td>12<\/td><th>name_at_outlet_gnis_id&emsp;<\/th><td>205018&emsp;<\/td><\/tr><tr><td>13<\/td><th>outlet_rf1id&emsp;<\/th><td>22867&emsp;<\/td><\/tr><tr><td>14<\/td><th>head_nhdpv2_comid&emsp;<\/th><td>https://geoconnex.us/nhdplusv2/comid/2902889&emsp;<\/td><\/tr><tr><td>15<\/td><th>head_nhdpv1_comid&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>16<\/td><th>outlet_nhdpv2_comid&emsp;<\/th><td>https://geoconnex.us/nhdplusv2/comid/2903809&emsp;<\/td><\/tr><tr><td>17<\/td><th>outlet_nhdpv1_comid&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>18<\/td><th>head_nhdpv2huc12&emsp;<\/th><td>https://geoconnex.us/nhdplusv2/huc12/101900070202&emsp;<\/td><\/tr><tr><td>19<\/td><th>head_2020huc12&emsp;<\/th><td>101900070202&emsp;<\/td><\/tr><tr><td>20<\/td><th>featuretype&emsp;<\/th><td>['https://www.opengis.net/def/schema/hy_features/hyf/HY_FlowPath', 'https://www.opengis.net/def/schema/hy_features/hyf/HY_WaterBody']&emsp;<\/td><\/tr><tr><td>21<\/td><th>outlet_nhdpv2huc12&emsp;<\/th><td>https://geoconnex.us/nhdplusv2/huc12/101900071008&emsp;<\/td><\/tr><tr><td>22<\/td><th>outlet_2020huc12&emsp;<\/th><td>101900071008&emsp;<\/td><\/tr><tr><td>23<\/td><th>geometry&emsp;<\/th><td>sfc_LINESTRING&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":3,"opacity":1,"fill":false,"fillOpacity":0,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-105.8128916128639,40.41797827059656,-104.5999508814133,40.71387000347061,true,"geoconnex_mainstem","Zoom to geoconnex_mainstem","<strong> geoconnex_mainstem <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["geoconnex_mainstem"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"geoconnex_mainstem"}]},{"method":"addPolylines","args":[[[[{"lng":[-105.7319884796561,-105.7318394796563,-105.7319002796562,-105.7319304796562,-105.7320816129893,-105.7327116129883,-105.7326820129883,-105.7324128129888,-105.7324432129888,-105.7325634129886,-105.7326836129883,-105.7325640129885,-105.7321148129893,-105.7319652129895,-105.7319656796561,-105.7325356129886,-105.7329258796547,-105.7330772129877,-105.7333174129873,-105.7347570796517,-105.734847412985,-105.7348786796516,-105.7349388129848,-105.7350292129847,-105.7352694129844,-105.7361392796496,-105.7362594796494,-105.7362602796495,-105.7361706796497,-105.736171212983,-105.7367112796488,-105.7369512129818,-105.7372212796479,-105.737431412981,-105.7375220129808,-105.7374322796476,-105.7370732796483,-105.7370442129816,-105.7376440129806,-105.7379144129803,-105.7381550796465,-105.7382150129798,-105.7383354796463,-105.7383064129797,-105.7376790129806,-105.7371124796482,-105.7371140796482,-105.7370244796482,-105.7365460129823,-105.7365768796489,-105.7366672796488,-105.7364284129826,-105.7364290796493,-105.736579279649,-105.736579679649,-105.7366996796488,-105.7367598129821,-105.7367610796487,-105.7366716129821,-105.7367022796488,-105.7367622796487,-105.7369130796485,-105.7367638129821,-105.7363446129826,-105.7362258796495,-105.73592647965,-105.7355970796505,-105.7356278129838,-105.7357180796503,-105.7357784796503,-105.7361092796497,-105.7369198796485,-105.7369506129818,-105.7370406129816,-105.737221879648,-105.7373118796479,-105.7376136129806,-105.7378570129803,-105.7379500129802,-105.7381614129798,-105.7380126796467,-105.7377134796472,-105.7371148129815,-105.7371158129815,-105.7372662796479,-105.7377464796472,-105.7389464796452,-105.7397570129774,-105.7405078796428,-105.7412576796418],"lat":[40.47163487051338,40.47216140384578,40.47268760384495,40.47282487051142,40.47364860384346,40.47412847050958,40.47438027050912,40.47465507050867,40.47499820384142,40.47522687050768,40.47547847050735,40.47559307050715,40.475707870507,40.47586820384009,40.47614280383965,40.47662280383895,40.47710287050482,40.47801807050342,40.47836107050287,40.47932080383458,40.4795266038344,40.48037327049974,40.48046467049964,40.48085367049896,40.48112800383184,40.481699203831,40.4819508038307,40.48245420382991,40.48275167049594,40.4830492038288,40.4834604704949,40.48357467049478,40.48380327049444,40.484054670494,40.4844894038266,40.48464967049313,40.48508480382571,40.48563400382493,40.48599960382427,40.48638827049038,40.48696007048963,40.48698300382285,40.48741760382218,40.487943870488,40.48915727048613,40.49105707048307,40.49213247048142,40.49233847048113,40.49300260381347,40.49359747047929,40.49387200381216,40.49437560381143,40.49481047047748,40.49501620381044,40.49522207047674,40.49542787047636,40.49549660380968,40.49625167047503,40.49643480380797,40.49686947047411,40.49693820380743,40.49746420380662,40.49780760380598,40.49805967047216,40.49879207047118,40.4989754038042,40.49913587047064,40.49961640380327,40.49979940380287,40.49998980380273,40.50077127046817,40.50164000380013,40.50205187046604,40.50209747046594,40.50301260379789,40.50305827046441,40.50436227046252,40.50681040379199,40.5090756037885,40.51012800378694,40.51092887045233,40.51136400378484,40.51186800378414,40.5126230704497,40.51296620378245,40.51333187044875,40.51394847044769,40.51451980378005,40.51543427044533,40.51561660377828]}]],[[{"lng":[-105.747688012965,-105.7477496796317,-105.7479302796314,-105.7482008796309,-105.7482018129642,-105.7480822796311,-105.748083079631,-105.7486250129637,-105.7490158796297,-105.748986012963,-105.7492264796294,-105.7494380129623,-105.7498288129617,-105.7498598129617,-105.7502506129611,-105.7505506129606,-105.7522208129581,-105.7524604796243,-105.7525800796241,-105.7524594796243,-105.7521288129581,-105.7521578796248,-105.7523968796244,-105.7524846796243,-105.7530832796234,-105.7536208129558,-105.7541572129551,-105.7543366129548,-105.7543354129547,-105.7542450796216,-105.7542734796215,-105.7547214796209,-105.7553800796198,-105.7567574796177,-105.7580454796156,-105.7607728796115,-105.7617916129432,-105.7627496796084,-105.763648279607,-105.7642178129395,-105.7684150129329,-105.7690744129318,-105.7696434795977,-105.7697332129309,-105.7701826129301,-105.7719220129274,-105.7724920129266,-105.773482212925,-105.773931879591,-105.7742314795905,-105.7747700129231,-105.7755788129218,-105.7760876795876,-105.7760874795876,-105.7764768795871,-105.7765064795871,-105.7779750795847,-105.7780048795847,-105.7784246129173,-105.779293412916,-105.7808820129135,-105.781241812913,-105.7823808129112,-105.785468679573,-105.786848079571,-105.7879274795693,-105.7884370129018,-105.7887666129013,-105.7890666795676,-105.7892762795672,-105.7896060795666,-105.7899958795661,-105.790235812899,-105.7903254795656],"lat":[40.52338980376638,40.5244422704312,40.52478527043085,40.52517407043013,40.52565460376286,40.52588347042908,40.52636400376176,40.52755327042648,40.52805627042564,40.52814787042558,40.52846787042502,40.52931440375722,40.52981727042306,40.53036640375549,40.5309152037547,40.53096060375452,40.53112660375444,40.53121847042085,40.53142460375376,40.53176760375329,40.53220200375259,40.53268260375192,40.53323187041762,40.53435320374918,40.53499460374842,40.53632227041288,40.53822207041003,40.53849680374282,40.53920607040849,40.5393890037415,40.5402814704067,40.54133447040522,40.54209027040392,40.54337307040196,40.54442700373368,40.54564227039842,40.54630700373079,40.5473604037291,40.54813927039466,40.54846020372736,40.54988280372518,40.55020367039143,40.55075327039045,40.55093647039027,40.55128007038969,40.55155620372258,40.55155667038935,40.55137460372277,40.5515350703893,40.55180987038887,40.55279427038719,40.5535730037194,40.55432847038493,40.5544428703848,40.55487800371747,40.55515260371705,40.55616060371538,40.556252070382,40.55650420371479,40.55726000371362,40.558313803712,40.55847427037845,40.55923027037732,40.56097167037467,40.56140747037387,40.56195740370635,40.56234680370593,40.56269027037205,40.56271340370527,40.56296520370483,40.56319427037106,40.56328607037106,40.56346940370423,40.56369820370367]}]],[[{"lng":[-105.7903254795656,-105.7906554795651,-105.7913744795639,-105.7933224795609,-105.7945808795589,-105.7957190795571,-105.7959282128901,-105.79604821289,-105.7964670128894,-105.7967366128889,-105.7967962795556,-105.7969762128886,-105.7969762128886,-105.7984446128863,-105.7997940795509,-105.8013540128817,-105.8019840128808,-105.8024936795467,-105.8027030795463,-105.8030908128791,-105.8034496128786,-105.8036892795448,-105.8041078128775,-105.8040474795442,-105.8028458128794,-105.8020946128806,-105.8017036795479,-105.8015830795481,-105.8017326128812,-105.8023018795469,-105.8030214795459,-105.8035010128785,-105.8036808795449,-105.8041900128773,-105.8040988128775,-105.8039480795445,-105.8039174795445,-105.8045164795436,-105.8045746128768,-105.8044234795437,-105.8042132128774,-105.8037326128781,-105.8013608128818,-105.8007302128827,-105.8002496128835,-105.8003382795499,-105.8002176795501,-105.7991954795518,-105.7975120795544,-105.7972412128882,-105.7970904128885,-105.7970588795552,-105.7963662795562,-105.7963652795562,-105.7961548795565],"lat":[40.56369820370367,40.56379000370366,40.56461427036911,40.5664002703662,40.56798000369724,40.5696740036945,40.57040640369331,40.57052087035981,40.57161947035823,40.5719858036909,40.5722604036904,40.57239780369019,40.57248927035692,40.57411480368752,40.57496227035285,40.57535227035216,40.57562727035194,40.57606227035111,40.57661160368384,40.57876267034705,40.58002140367844,40.58043340367772,40.58196667034221,40.58228700367477,40.58354480367296,40.58420780367192,40.58487107033746,40.58544307033662,40.58592367033597,40.58679360366788,40.58752620366671,40.5882358703323,40.58837327033201,40.58956340366359,40.59066160366193,40.59114200366121,40.59164540366035,40.59288140365841,40.5948720703221,40.59581007032047,40.59608447032008,40.59624447031991,40.5965862036526,40.59679167031906,40.59708887031866,40.59839320364993,40.59880487031585,40.60017720364706,40.60221247031058,40.6028300703096,40.60344780364206,40.60470627030674,40.60651347030404,40.60736007030262,40.60758880363555]}]],[[{"lng":[-105.8106172795341,-105.8107662795338,-105.8108564795337,-105.8111260128666,-105.8110658128667,-105.8103138795345,-105.8101332795348,-105.8101928795347,-105.8105526128675,-105.8115728795326,-105.811962679532,-105.8123518795314,-105.8128916128639,-105.8127408795308,-105.8123500128647,-105.8096142795357,-105.8092232795362,-105.8091026128697,-105.8091616128696,-105.8092814795361,-105.8092806795362,-105.8091902795363,-105.8080164128713,-105.8076854795386,-105.8069636128731,-105.8067228128734],"lat":[40.64848607023875,40.64974467023679,40.64981340357011,40.65061440356897,40.65091180356832,40.65166640356716,40.65196380356681,40.65253587023258,40.65338267023122,40.65473307022901,40.65548847022804,40.6570216702255,40.65832607022341,40.65869220355619,40.65903520355584,40.66068120355335,40.66116147021921,40.66164187021843,40.66269447021676,40.66301487021626,40.66381567021505,40.66420467021448,40.66621747021119,40.66665207021047,40.66722367020972,40.6677268702089]}]],[[{"lng":[-105.8067228128734,-105.8058198128749,-105.8052482128758,-105.8038946795445,-105.8033534795454,-105.8025420128799,-105.8001682128836,-105.799086679552,-105.7982158795534,-105.7970442795552,-105.7963230128896,-105.795361212891,-105.7933778128942,-105.7922656128959,-105.7900708795659,-105.7875162129033,-105.7868848795709,-105.7859820795723,-105.7849894795738,-105.783546079576,-105.7806604795806,-105.7805398129141,-105.7796368129155,-105.7785838129171,-105.7780724795845,-105.7777118795852,-105.7764484129204,-105.7764482129203,-105.7752444129223,-105.7742210129239,-105.7722354129269,-105.7721746795937,-105.7714210129282,-105.7710898795954,-105.7704582795964,-105.7700968129303,-105.7691036795985,-105.7688330795989,-105.7670264129351,-105.7661830129363,-105.7657616796037,-105.7647088129387,-105.7634448129406,-105.7627830129417,-105.7621818129425],"lat":[40.6677268702089,40.6692824035399,40.66985407020555,40.67099727020379,40.67124867020348,40.67136260353657,40.67113227020363,40.67081127020423,40.67019300353841,40.66987187020556,40.66991707020558,40.67012247020516,40.67009820353863,40.67030340353834,40.67110280353698,40.67144407020321,40.6715808702029,40.67244967020154,40.67313540353392,40.67377500353285,40.67427607019887,40.67464207019824,40.67555660353015,40.67637947019542,40.67663080352851,40.67667620352843,40.67752180352707,40.67761340352691,40.67866487019204,40.67973940352362,40.68108767018818,40.68147667018748,40.68291760351875,40.68323767018493,40.68353460351774,40.68406047018371,40.6848146035158,40.68488307018221,40.6868950035125,40.68801540351087,40.68833540351029,40.68886067017611,40.68972887017487,40.68998000350784,40.69002520350755]}]],[[{"lng":[-105.7621818129425,-105.7611892796107,-105.7608882129446,-105.7604962796119,-105.7595904129465,-105.7587168796146,-105.7586250796148,-105.7588948796143,-105.7589544129476,-105.7588028129479,-105.7587714129479,-105.759130279614,-105.7591288129473,-105.7587374129479,-105.75741321295,-105.7566312129512,-105.7560300129521,-105.7552480129532,-105.7548568129539,-105.7544352129545,-105.7543740796213,-105.7540424796218,-105.7533502129563,-105.7529586796236,-105.7529876129568,-105.7531070129567,-105.7539182129554,-105.7537672796224,-105.7531952796232,-105.7521432129582,-105.7521132129582,-105.7511506796264,-105.7505494796274,-105.7498284129618,-105.7494982129623,-105.7494386796291,-105.7497100129619,-105.7505516796273,-105.7511478796263,-105.7512978796261,-105.7513276129595,-105.7511166129598,-105.7505534796273,-105.7486000796304,-105.7477888796316,-105.7466176796333,-105.7460768796342,-105.7453252796354,-105.7444530796367,-105.7434902129716,-105.7418664129741,-105.7412652796418,-105.7403940796431,-105.7397334796441,-105.7397340129775,-105.7398846796439,-105.7398852129772,-105.7397650129773,-105.7387426129789,-105.7378094796471,-105.737448812981,-105.737239279648,-105.7368488129819,-105.7364280129825],"lat":[40.69002520350755,40.69034460350721,40.69059600350673,40.69132787017229,40.69370660350192,40.69468960350044,40.69565047016565,40.69610847016506,40.69649740349764,40.69722947016323,40.69805307016186,40.69915180349346,40.69990687015902,40.70029547015842,40.7010950034904,40.70123147015682,40.70123100349027,40.70139027015665,40.70157300348965,40.70198440348912,40.70255627015489,40.70294500348754,40.70340187015365,40.70383620348622,40.70447687015181,40.70495760348436,40.70523300348413,40.70562180348345,40.70601020348297,40.70589467014968,40.70584900348311,40.70603100348282,40.70636947014885,40.70671347014844,40.70701127014802,40.70735460348074,40.70767460348021,40.7076050701471,40.70756400348046,40.70770147014687,40.70795320347978,40.70825040347944,40.70856600347881,40.7090486701448,40.70941567014423,40.71026347014298,40.71049300347592,40.71058527014245,40.71044887014251,40.71006087014327,40.7101084034764,40.71026920347631,40.71072767014216,40.71120887014137,40.71152920347424,40.71171207014071,40.71200960347352,40.71210120347348,40.71205647014016,40.71159980347431,40.71162300347401,40.71226387013972,40.7124702034728,40.7125850701394]}]],[[{"lng":[-105.7364280129825,-105.735315679651,-105.734835012985,-105.7340240796529,-105.7337236129868,-105.7327916129881,-105.73164841299,-105.7311670796574,-105.730986012991,-105.7311950129907,-105.7311042129908,-105.7306526796581,-105.7280354796623,-105.7276140129963,-105.7272824129968,-105.7272214796635,-105.726858879664,-105.7261652796652,-105.7252920796665,-105.7246300796675,-105.7240288796685,-105.7230372796701,-105.722406479671,-105.721925613005,-105.7217150796721,-105.7214440796725,-105.7212332130061,-105.7199986796747,-105.7196068130086,-105.7195756796753,-105.7192742130092,-105.7184316130105,-105.7183712130106,-105.7179802130112,-105.7163242796805,-105.715933079681,-105.7153016130152,-105.7142198130171,-105.7137988130177,-105.7128364130192,-105.7126256130195,-105.7125950796861,-105.7123840796864,-105.7117826130208,-105.7110310796886,-105.7100994130234,-105.709047213025,-105.7078442796936,-105.7073332130277,-105.7070628796948,-105.7070332796948,-105.7071236796947,-105.7070042130283,-105.7068840796951,-105.7064930796957,-105.7056208130304,-105.7053800130307,-105.7052590796976,-105.7051676796978,-105.7050472130313,-105.7040242130328,-105.701347613037,-105.7009568797043,-105.7007466797047,-105.700747413038,-105.7004772797051,-105.7002970797052,-105.6995756130398,-105.6992146797069,-105.6979508130423,-105.6975598130429,-105.6970486797103,-105.6968082797107,-105.6962674130448,-105.6960268130453,-105.6957554797124,-105.6955136797127,-105.6950322797135,-105.6946414130473,-105.6935888797157,-105.6931682130497,-105.6926570797172,-105.6916050130521,-105.691064013053,-105.6903730797208,-105.6897422130551,-105.688269879724,-105.6875786130584,-105.6870676130592,-105.6865262130599,-105.6852928797286,-105.6841194797304,-105.6822848797333,-105.6814126797346,-105.6812622797348],"lat":[40.7125850701394,40.71274627013896,40.71295267013863,40.71366280347088,40.71377747013749,40.71387000347061,40.71359640347109,40.7134138034714,40.71304787013852,40.71213247014013,40.71178927014069,40.71146940347437,40.71073967014229,40.71037400347604,40.70989367014346,40.70939047014428,40.7082696034794,40.70701160348139,40.70609720348278,40.70582320348309,40.70589240348303,40.70628220348247,40.7067404701483,40.70690100348145,40.70687827014818,40.70664967014839,40.70632947014894,40.70507220348433,40.70443180348531,40.70374540348649,40.70317360348724,40.7026022701548,40.70244220348837,40.7023280701552,40.70065920349112,40.70043060349143,40.70036247015828,40.70070660349102,40.7007068701576,40.70038740349155,40.70015867015846,40.69979267015916,40.69938087015988,40.69926700349348,40.69931327015998,40.69961147015947,40.69968087015928,40.69936147015991,40.69936187015986,40.69959087015958,40.69997987015876,40.70014000349187,40.70071207015773,40.70080380349088,40.70082687015765,40.70048427015804,40.70023280349175,40.69982100349251,40.69867707016102,40.69849400349461,40.69794560349543,40.6970322034968,40.69714687016329,40.69742160349613,40.69799360349538,40.69838280349472,40.69852020349447,40.69858940349435,40.6984752034944,40.69751500349601,40.69733227016301,40.69730967016296,40.697470003496,40.69760760349594,40.69749340349605,40.69685287016372,40.69573180349875,40.69532020349934,40.69518320349952,40.69502367016649,40.69511540349981,40.69504707016656,40.69511640349967,40.69529967016609,40.6959180034986,40.69635307016442,40.69710900349673,40.6972924034964,40.69731560349641,40.69720147016327,40.69649287016426,40.69546387016583,40.69445800350064,40.69416100350139,40.69406960350147]}]],[[{"lng":[-105.6812622797348,-105.6796688130707,-105.6785266130724,-105.6776848130738,-105.6768132797418,-105.6764228797423,-105.6758526797432,-105.6756132797436,-105.6754330797439,-105.674922213078,-105.6742008797458,-105.6726376797483,-105.67149507975,-105.6692998130868,-105.6678866130889,-105.666594013091,-105.6662034130916,-105.6646710797606,-105.6641602130946,-105.6623866130975,-105.6603118797673,-105.6572752797721,-105.6538178131107,-105.6526754131125,-105.6501500131164,-105.6491578797847,-105.6481660131195,-105.647684879787,-105.6475946797871,-105.6449188797912,-105.6447686797915,-105.6441374797925,-105.6438368131262,-105.6430852131273,-105.6429046797944,-105.6418826131293,-105.6399884797989,-105.6384550798012,-105.637553213136],"lat":[40.69406960350147,40.69379580350187,40.69379627016861,40.69397980350142,40.6944378701675,40.69487267016688,40.69610860349809,40.69755027016263,40.69780200349556,40.69809967016188,40.69835167016146,40.69846687016111,40.69826140349488,40.69750720349614,40.69730187016302,40.69750827016268,40.69782880349555,40.69938520349323,40.69972867015937,40.70014120349196,40.7000044701589,40.69966227015933,40.69982347015918,40.70005260349208,40.70014467015855,40.70032807015832,40.70080880349096,40.70085447015752,40.70080880349096,40.70115260349041,40.70142720349001,40.70183920348937,40.7018850034891,40.70183940348927,40.70177067015618,40.70190820348922,40.70243480348834,40.70248080348845,40.70266387015472]}]],[[{"lng":[-105.637553213136,-105.6355386798058,-105.6342458131412,-105.6335240798089,-105.6320206798113,-105.6315396131454,-105.6309684131463,-105.6302770131473,-105.6289840131492,-105.6274206131518,-105.6264284131533,-105.6260074798205,-105.6255564131546,-105.6250152798221,-105.6243238131566,-105.623211479825,-105.6225802131592,-105.6216482131607,-105.6205056131624,-105.6196336798305,-105.6190624798313,-105.6181306798328,-105.6174092131672,-105.6165072131687,-105.6164770798354,-105.6125688131748,-105.6118472798426,-105.6113964798433,-105.6102540798451,-105.6081500131816,-105.6070678131834,-105.6062560798513,-105.6050534798531,-105.6029188798564,-105.6022874798574,-105.6019264131913,-105.6018662131913,-105.6015954798584,-105.6011144131925,-105.6002724798605,-105.5992202131955,-105.5984986798633,-105.5966646798662,-105.594831079869,-105.5934782132044,-105.5928468132054,-105.5923354132062,-105.5920046132067,-105.5912230132079,-105.5899904132099,-105.5887578132117,-105.5875550798803,-105.5865928798818,-105.5852702132172,-105.5842482132186,-105.5834666798866,-105.5818130798892,-105.5814520132232,-105.5803092798916],"lat":[40.70266387015472,40.70280147015441,40.70257280348819,40.70225247015541,40.70097127015734,40.70085687015738,40.70087987015737,40.70110867015724,40.70120027015699,40.70069707015779,40.70001060349218,40.69964447015926,40.69877507016069,40.69813440349497,40.69758527016266,40.6972878701631,40.69726500349655,40.69744800349617,40.6979742034953,40.69806567016186,40.69795127016207,40.69737920349628,40.69701307016344,40.69680707016381,40.69673847016382,40.69662380349745,40.69653220349755,40.6963262034979,40.69536500349933,40.69447240350085,40.69428920350112,40.69424327016767,40.69442620350095,40.6950436034999,40.69543260349925,40.69591300349849,40.69634767016454,40.69669087016403,40.69696540349683,40.69726267016311,40.69751407016263,40.6975140034961,40.69730780349635,40.69696407016351,40.69684927016377,40.69696360349693,40.69746680349613,40.69762700349597,40.69760380349588,40.69742040349618,40.69753447016269,40.69778580349553,40.69790000349543,40.69778507016235,40.69737287016301,40.69718960349647,40.69732640349615,40.6976236701627,40.69808080349505]}]],[[{"lng":[-105.5377666799576,-105.5350910799617,-105.5322956132994,-105.5308828133016,-105.528687413305,-105.5276650799733,-105.5262822133087,-105.5255004799766,-105.523966879979,-105.5227040799809,-105.5221330799819,-105.5205712133175,-105.519399079986,-105.5190986799866,-105.5190390799866,-105.5195514799859,-105.5196126799858,-105.5195230799859,-105.5191030799865,-105.5188030133203,-105.5170308799898,-105.5163104799909,-105.5162210133244,-105.5161308799911,-105.5161012133246,-105.5157710133251,-105.5151398799927,-105.5145986799936,-105.5136362799951,-105.5127042799965,-105.5123138133304,-105.511232613332,-105.509970813334,-105.5098510133342,-105.5095206133347,-105.5089802800022,-105.5087098800027,-105.507236680005,-105.5064850800061,-105.5054020800079,-105.5049804800085,-105.5043478800094,-105.5040770133432,-105.5026634133454,-105.5011608800144,-105.5005414800153,-105.4994882133503,-105.4986762133515,-105.4983156133522,-105.4961512800221,-105.4948882800241,-105.4942568133584,-105.4935646133595,-105.4930520133603,-105.4922994133614,-105.4917880133623,-105.4913070800297,-105.4907664133638,-105.4903462133645,-105.4898368133654,-105.4897176133655,-105.4895376800325,-105.4889968133666,-105.488545480034,-105.4868602800366,-105.4863786133706,-105.4862278800376,-105.4856220800385,-105.4846882800399,-105.4844166133738,-105.4843252800406,-105.4844746133737,-105.4842922800406,-105.4837796133747,-105.4828464800429,-105.4827860800429,-105.4825156133767,-105.4817030133779,-105.4814918133782,-105.4804384133799,-105.4802274133802,-105.4804068800466,-105.4803446800467,-105.480163880047,-105.4796524133811,-105.4788404133824,-105.4776982133842],"lat":[40.69890400349391,40.6988104701607,40.69832787016139,40.69816647016169,40.69869107016089,40.69878167016076,40.69864340349437,40.698619670161,40.69889300349389,40.69891467016049,40.69870827016086,40.69772307016233,40.69747027016273,40.69726407016309,40.69696660349682,40.69621200349798,40.69550267016587,40.69515940349965,40.69454120350067,40.694174870168,40.69325800350257,40.6925480035038,40.69206740350453,40.69202147017126,40.69179260350483,40.69154067017205,40.6914028035054,40.69142520350552,40.6916530701718,40.69169800350497,40.69156027017198,40.69089567017295,40.69048260350696,40.69020787017392,40.69004740350774,40.68963500350822,40.68952020350851,40.68958740350837,40.6897010701749,40.69008900350761,40.69052327017355,40.69127780350578,40.69143767017221,40.69180227017167,40.69152607017199,40.6912710701724,40.6906544035068,40.69047227017366,40.69056420350687,40.69058927017335,40.69038480350719,40.69020240350738,40.68972247017485,40.68885360350948,40.68828227017703,40.68809980351071,40.68810027017722,40.68830680351022,40.68862760350981,40.68968067017494,40.69027567017391,40.69052760350701,40.69061960350673,40.69045987017369,40.68938620350862,40.68892880350932,40.68865440350986,40.68590920351398,40.68467447018255,40.6839882701838,40.68332480351808,40.68266107018579,40.68158587018745,40.68051087018908,40.6796652035237,40.67945927019076,40.67945940352411,40.67875087019182,40.67822467019258,40.67728760352742,40.67692167019469,40.67637240352883,40.67509107019752,40.67479367019801,40.67440520353194,40.67408560353238,40.67390360353266]}]],[[{"lng":[-105.4467558800988,-105.4466664800989,-105.4467266800989,-105.4471178800983,-105.4482606134298,-105.4486214800959,-105.4490430800953,-105.4490138134286,-105.4488640800956,-105.4489248134288,-105.4491956134284,-105.4500680800936,-105.4504294134264,-105.450702013426,-105.450492280093,-105.4493802134281,-105.4469448800986,-105.4455924134339,-105.4450212801016,-105.444931213435,-105.4447514134353,-105.4443908134359,-105.4430982801046,-105.4426774801051,-105.4423772801056,-105.4419574134396,-105.4417470801066,-105.4407548134415],"lat":[40.68623780351351,40.68699287017896,40.68717600351209,40.68751900351153,40.68786147017772,40.68809000351075,40.68886767017608,40.68953127017517,40.69003480350775,40.69049240350689,40.69076680350643,40.69136107017223,40.69195580350465,40.69362607016863,40.69433547016775,40.69454220350067,40.6944294035008,40.6946132701672,40.69479660350027,40.69493400350004,40.69543747016591,40.69562080349908,40.69580460349882,40.69596500349842,40.69642280349769,40.69738420349625,40.69747587016264,40.6973390701629]}]],[[{"lng":[-105.4407548134415,-105.4406946134415,-105.4380472801124,-105.4365434134481,-105.4352200801168,-105.4347088134508,-105.4335052801194,-105.4333242801197,-105.4329026801204,-105.432451280121,-105.4323004134546,-105.4324204134545,-105.4330814134535,-105.43317148012,-105.4330808801201,-105.4329906134535,-105.4329898134534,-105.4332896801197,-105.4341600134518,-105.434338880118,-105.4344588134513,-105.4358096134492,-105.4357190134493,-105.4353580134499,-105.4347868134508,-105.4334640134529,-105.4331330134533,-105.4330724801201,-105.4329218801203,-105.4325908801209,-105.432049613455,-105.4303058134577,-105.4300650134581,-105.429944680125,-105.4300338134582,-105.4298832801251,-105.4291616134595,-105.4283800801273,-105.4268780134631,-105.4242040134671,-105.4235428801349,-105.4230620801356,-105.4221304134704,-105.4211382801386,-105.4200558801403,-105.4193644134747,-105.4192440134749,-105.4190030801419,-105.4186122134759,-105.4180410801434,-105.4170192134784,-105.4169292134785,-105.4163582134793,-105.4158174801468,-105.4154272134808,-105.4148870801483,-105.4141360801494,-105.4122430134857,-105.4117022134866,-105.4113416801538,-105.4110114134877,-105.4111018801542,-105.4122748134857,-105.4123650134856,-105.4123050134856,-105.4120646801528,-105.4105626134884,-105.4099316134893,-105.409210280157,-105.4083988134918,-105.4081282134921,-105.4069854801605,-105.4059632801622,-105.4038592801655,-105.4027774135004,-105.4013046801694,-105.4004030135042,-105.3994108801723,-105.3989600135063,-105.3982386135075,-105.3976076801752,-105.397247213509,-105.3965256801769,-105.3962552801772,-105.395713880178,-105.3952628801788,-105.394030413514,-105.3933690801817,-105.3923774135166,-105.3914154801847,-105.3906638801859,-105.3899424801871],"lat":[40.6973390701629,40.69724760349644,40.69553300349919,40.69480160350025,40.69425307016788,40.69395587016822,40.69274380350339,40.69208027017108,40.69139407017212,40.6907306701732,40.69006720350761,40.68981540350806,40.68944900350856,40.68928867017555,40.68869387017639,40.68862527017643,40.68761847017808,40.68688607017919,40.68526100351512,40.68352187018445,40.68324727018469,40.68130160352128,40.68084400352193,40.68054680352243,40.68031807018929,40.67997560352334,40.67965540352384,40.67899187019155,40.67860300352533,40.67821420352603,40.67784827019315,40.67707120352776,40.67679667019487,40.67649940352876,40.6753094035305,40.67503487019769,40.67448607019853,40.67457800353162,40.6751050035308,40.67647907019533,40.67668527019498,40.676708470195,40.67661727019527,40.67625160352897,40.67570280352982,40.67522247019729,40.67503960353088,40.67433027019871,40.67401007019925,40.67382727019939,40.6738734035328,40.67403367019904,40.67428547019865,40.67476627019808,40.67533847019703,40.67682600352807,40.67748980352701,40.67815400352605,40.67849740352553,40.6788406701917,40.67945867019078,40.67991627019001,40.68108300352139,40.68126600352129,40.68165507018733,40.68202120352002,40.68330307018476,40.68364647018428,40.68392127018387,40.6839444035172,40.68385300351729,40.68298380351857,40.68270947018555,40.68273287018545,40.6829390701854,40.68339707018455,40.68342020351788,40.68314580351839,40.68312307018497,40.68342067018454,40.68426747018314,40.68449640351603,40.68456520351612,40.68447367018302,40.68362720351762,40.68330680351811,40.68291807018542,40.68291820351853,40.68319300351819,40.68323887018472,40.68294147018523,40.68285007018553]}]],[[{"lng":[-105.3899424801871,-105.3891310801884,-105.3888608135221,-105.3885602801892,-105.3879892135234,-105.3872978801911,-105.3844422135289,-105.3823378135322,-105.3816164802,-105.381165613534,-105.380534413535,-105.3799332802025,-105.3786708802045,-105.3782198802053,-105.3775286802062,-105.3768974135406,-105.3767472135408,-105.3768974802072,-105.37725821354,-105.3773784802065,-105.3776190135395,-105.3783404135384,-105.3788816802042,-105.3790920135372,-105.379182213537,-105.3791522135371,-105.3784308135383,-105.3781602802053,-105.3774086802064,-105.3770480135404,-105.3765970802078,-105.3755448135428,-105.3749736135435,-105.3744624135443,-105.3739514135452,-105.3735606802125,-105.3730196135467,-105.3720574802148,-105.3710654135496,-105.3704642135506,-105.3701634802177,-105.370163613551,-105.371306080216,-105.3716668802154,-105.3716970135487,-105.3713362135493,-105.3709454802166,-105.3693522802189,-105.3683904802205,-105.3674886135552,-105.3644222802266,-105.3626786802294,-105.3620174802304,-105.3607550135657,-105.359252013568,-105.3560654802396,-105.3551636135744,-105.3541114802427,-105.3527888135781,-105.3516464135798,-105.3507142135813,-105.3499324135825,-105.3494512802499],"lat":[40.68285007018553,40.68413160351685,40.68470367018251,40.68506987018185,40.68532160351489,40.68523020351498,40.68447540351634,40.68351440351789,40.68358307018435,40.68383487018399,40.68456707018282,40.68497907018219,40.6855740035145,40.68603180351379,40.68708440351223,40.6878394701777,40.68829707017699,40.68859460350997,40.6889378035093,40.68916667017557,40.68932680350883,40.69008187017419,40.69085980350631,40.69161487017195,40.69168360350506,40.69230140350411,40.69328527016929,40.69342260350236,40.69422347016776,40.6944980701675,40.69463540350042,40.6945210035007,40.69436087016761,40.69397187016814,40.69298800350303,40.69266760350349,40.69255320350359,40.69259900350369,40.69253040350374,40.69230147017073,40.69193527017141,40.69147767017213,40.69056240350682,40.69005900350759,40.68950987017521,40.68875467017625,40.68834287017687,40.68747320351162,40.68726727017862,40.68735880351182,40.68838820351018,40.68859407017659,40.68850247017679,40.68818200351058,40.68802167017746,40.68808980351054,40.6882040701771,40.68859287017661,40.68863840350981,40.68898140350922,40.68948467017528,40.69014807017413,40.69026240350714]}]],[[{"lng":[-105.3494512802499,-105.3486698135844,-105.345513080256,-105.3446710802573,-105.3436490802589,-105.3421762135945,-105.3413044802626,-105.3404626135971,-105.3401016802644,-105.3399212802647,-105.3385982136001,-105.3370640802692,-105.3370040136025,-105.3367632802696,-105.3362520802704,-105.3358914802709,-105.3347794802727,-105.3338476802741,-105.3330060802754,-105.3323444802764,-105.3316826802775,-105.330690080279,-105.3302090802796,-105.3293972802811,-105.3278944136167,-105.3266322802853,-105.3262418802859,-105.3257914136199,-105.3255214136203,-105.3254618802872,-105.3252216802875,-105.3238092802897,-105.3228176136245,-105.3207734802944,-105.3190002802971,-105.3172568802998,-105.3144310803043,-105.3133790803059,-105.3113656136424,-105.3102534803107,-105.3089008803128,-105.3086302803132,-105.3071874136488],"lat":[40.69026240350714,40.69049100350686,40.691108203506,40.69119947017261,40.69117627017262,40.69071820350649,40.69071800350657,40.69106100350592,40.69140407017227,40.69142687017215,40.69218167017108,40.69362267016874,40.69385147016827,40.69412607016786,40.69421740350117,40.69412567016786,40.69337027016918,40.69311827016945,40.69309507016949,40.69334660350252,40.69375820350195,40.69462727016716,40.69474160350027,40.69476420350027,40.69437460350093,40.69357320350223,40.69313827016955,40.69249740350388,40.69178800350499,40.69075827017317,40.69043780350699,40.68979640350799,40.6894756035086,40.68931460350875,40.68894760350919,40.68874080350982,40.68878520350971,40.68860160350992,40.68802847017729,40.68782187017784,40.68777540351121,40.68784387017773,40.68786600351112]}]],[[{"lng":[-105.3071874136488,-105.3065562136498,-105.3044518803198,-105.3034302803213,-105.3025888136559,-105.3015968803241,-105.3003948136594,-105.2996432803271,-105.2994628803275,-105.2992218803279,-105.2988292803285,-105.2984076803291,-105.2980466803297,-105.2978062136634,-105.2970846803312,-105.2959436803329,-105.2954326803338,-105.2951620803342,-105.2941088803358,-105.2935976136699,-105.292876013671,-105.2919444803391,-105.2913434803401,-105.2895996803428,-105.2882766136781,-105.2879456136787,-105.2877952136789,-105.2878244803454,-105.2889346136772,-105.2890844803436,-105.289083413677,-105.2888122136773,-105.2881802803449,-105.2874282136794,-105.2859848803485,-105.2817452136883,-105.2812640136891,-105.2810532136894,-105.2809622136895,-105.2814418803555,-105.2813812136889,-105.2810798803561,-105.2803580136904,-105.2794260136919,-105.2783438803602,-105.2775626136948,-105.2749796136987,-105.273987880367,-105.2715530137041,-105.270169680373,-105.265868613713,-105.2646058137149,-105.2642752137155,-105.2638550137161,-105.2637654803829,-105.2649118803811,-105.2650932137142,-105.2648236137146,-105.2639222803826,-105.263291013717,-105.2618474803859,-105.2603742137215,-105.2596226803893,-105.2588716137238,-105.2568286803937,-105.2557468803953,-105.2553260137293,-105.2552354803962,-105.2555342803957,-105.2556528803955,-105.255350680396,-105.255349480396,-105.2557680803953,-105.2558570803952,-105.2557364137287,-105.2554954803958,-105.2536914803985,-105.2531500137327,-105.2520664804011,-105.2516146137351,-105.2511028804025,-105.2505484804034,-105.2490758804057,-105.2482650804068,-105.2475750137413,-105.2469750137423,-105.2465246804097,-105.2458338804107,-105.2443616137464,-105.2431890137482,-105.2424370137493,-105.2413832804177,-105.2410516804181,-105.2409606137517,-105.2410804804181,-105.2415308137506,-105.2427022804155,-105.2428222137488],"lat":[40.68786600351112,40.68777407017777,40.68781847017772,40.68738320351181,40.6872224701786,40.68719900351201,40.68687787017927,40.68690027017914,40.6869916035123,40.6873804701785,40.6888904035095,40.68957660350839,40.68982807017476,40.68989660350781,40.68985040350793,40.68879700350955,40.68872800350957,40.68879647017619,40.68966527017488,40.68991660350777,40.68991620350781,40.68952647017516,40.68943460350854,40.68961627017496,40.68995860350785,40.69014140350748,40.69032427017384,40.69096507017287,40.69252187017035,40.69286520350317,40.69373467016857,40.69414640350132,40.69469507016697,40.69503780349977,40.69526547016611,40.69571987016554,40.69587960349857,40.69613120349817,40.69670307016387,40.69768747016239,40.69809927016185,40.69844227016124,40.69867060349431,40.69873840349402,40.69857727016108,40.69827920349481,40.69653807016419,40.69626260349789,40.69607747016484,40.69630500349788,40.69739940349626,40.69751260349602,40.69739787016294,40.69705427016351,40.69655080349743,40.69419487016775,40.69357727016889,40.69298207016976,40.6925922701703,40.69259167017033,40.69291060350321,40.69311507016954,40.69302287016971,40.6928162035034,40.69203620350454,40.69178327017166,40.69178287017159,40.69198880350455,40.69292720350312,40.69381980350163,40.69473480350032,40.69546700349922,40.69668020349734,40.69738960349615,40.69766407016243,40.69782400349546,40.69786787016223,40.69807327016186,40.6987356701609,40.69919287016018,40.6995354701594,40.69978527015922,40.70019867015868,40.70072587015768,40.70152747015644,40.70223747015531,40.70262700348803,40.70301667015418,40.70363620348651,40.70363740348664,40.70345507015347,40.70272380348796,40.70219787015544,40.70171740348959,40.70141980348995,40.70103040349058,40.70038847015827,40.70015947015855]}]],[[{"lng":[-105.2428222137488,-105.243934013747,-105.2462480804101,-105.246548413743,-105.2466078804095,-105.2463366137433,-105.2453432804115,-105.2446514137459,-105.2438090137472,-105.2427554804156,-105.2420026137499,-105.2416100804173,-105.2415786137507,-105.2414576137509,-105.241095680418,-105.2404028804191,-105.2396804137535,-105.2390478137546,-105.2387770804217,-105.2382364804225,-105.2377256804232,-105.2369442137577,-105.2363124137588,-105.2359512804261,-105.23555941376,-105.2353776137602,-105.2353762137603,-105.23552561376,-105.2359158137593,-105.2366964804249,-105.2375076804237,-105.2383190804223,-105.2398224137534,-105.2402426804194,-105.2403024137526,-105.2401514804196,-105.2390678137546,-105.2384660804221,-105.2373836804238,-105.2366618137582,-105.2364204804253,-105.2365096137585,-105.2367188137582,-105.2367778137581,-105.2366874137583,-105.2366818804249,-105.2367684804247,-105.2369176804246,-105.2371574804242,-105.2380876804227,-105.2386274137552,-105.2386866137552,-105.2383844137556,-105.2380232137562,-105.2369708804244,-105.236850613758,-105.2363994804254,-105.2353770137602,-105.2334820137632,-105.2326400137646,-105.2320090804322,-105.2313784137664,-105.2308682137672,-105.2301790804351,-105.2300890137685,-105.2298196137689,-105.2293692804362,-105.2290084804368,-105.2283162804379,-105.2278042137721,-105.2276834137722,-105.2278936137719,-105.2279228137718,-105.2277418137721,-105.2271400137731,-105.2268988137735,-105.2268382137736,-105.2267478804403,-105.2265058804408,-105.2260536137748,-105.2251206137761,-105.2245192137771,-105.2234670804455,-105.2212130137823,-105.2204018804502,-105.2176978137877,-105.2170364804554,-105.2145110137927],"lat":[40.70015947015855,40.6998380701592,40.69935507015985,40.69912600349356,40.69878267016068,40.69832527016132,40.69770847016237,40.69750327016266,40.69709227016338,40.69642987016441,40.69565267016563,40.69469200350057,40.69391400350166,40.69347940350232,40.69286200350331,40.69206160350457,40.69139880350553,40.69066720350656,40.69055307017359,40.69087387017287,40.69105747017269,40.69108107017273,40.69083000350644,40.6905786701734,40.6898696701746,40.68902320350918,40.68819947017712,40.68771880351135,40.68723800351208,40.68673380351277,40.68643547017979,40.68634320351338,40.68654767017969,40.68627267018019,40.68597507018055,40.68567780351437,40.684717803516,40.68444380351639,40.68423887018336,40.68389647018375,40.68348480351786,40.68282107018558,40.68206567018666,40.68133340352105,40.68124200352135,40.67794700352635,40.67577307019644,40.67510940353085,40.67467440353139,40.67382680353279,40.67311687020064,40.6725676702014,40.6714924035364,40.67121820353674,40.67094467020387,40.67085320353749,40.6708078702041,40.67032827020495,40.66918607020678,40.66893520354044,40.66900440354028,40.66925667020644,40.6697376035391,40.67106547020376,40.67108840353706,40.67175227020273,40.6720500702023,40.67202760353553,40.67138747020318,40.67058707020448,40.67015240353852,40.67003787020542,40.66946567020614,40.66909980354018,40.66859700354086,40.66809380354171,40.66772767020892,40.66765907020904,40.66658380354395,40.66553167021237,40.66454860354714,40.66425160354759,40.66400067021482,40.66384247021505,40.66400327021464,40.66423440354784,40.66409760354791,40.66304700354953]}]],[[{"lng":[-105.2145110137927,-105.2128278137953,-105.2120762804631,-105.2116552137971,-105.2114744137974,-105.2114126137974,-105.2112318137978,-105.210900880465,-105.2102396137993,-105.2096084804668,-105.2078964804695,-105.2070250804709,-105.2061232804724,-105.2056724804731,-105.204379880475,-105.2038694804759,-105.2034794138097,-105.2028488804774,-105.2023082804782,-105.2016172804792,-105.2004450138144,-105.1986418138173,-105.1958472138216,-105.1948254138232,-105.1945850138236],"lat":[40.66304700354953,40.66272787021667,40.66247680355025,40.66215667021748,40.66185940355137,40.66057800355345,40.66009767022086,40.65982327022132,40.6596406702215,40.65961840355489,40.66005440355416,40.66010080355409,40.6597352702213,40.65973560355461,40.6592560035554,40.65964527022136,40.6600802702209,40.66056127021999,40.66083620355295,40.66088247021959,40.66049427022011,40.66026667022052,40.66013100355412,40.65985707022123,40.65985720355449]}]],[[{"lng":[-105.1945850138236,-105.1926308138266,-105.1909776138292,-105.1904968804966,-105.1890838804988,-105.1883324804999,-105.1877012805009,-105.1871904805017,-105.1860484138368,-105.1856576138375,-105.185297013838,-105.1852668138381,-105.1840944805066,-105.1831026805081,-105.1826518138421,-105.1819600138432,-105.1811782138444,-105.1793446805139,-105.1782326138489,-105.1777445469163,-105.176939813851,-105.1751960138537,-105.1746550805212,-105.1738434805225,-105.1734524138564,-105.1733016138566,-105.1735412138563,-105.1735400138563,-105.1734194138565,-105.1729078138573,-105.1714648805261,-105.1682488138645,-105.1678278805318,-105.1675870805322,-105.1674968805323,-105.1674360805324,-105.1680656138647,-105.1683056138644,-105.1686356805305,-105.1683350805311,-105.1681546138646,-105.1678240805318,-105.1678240805318,-105.1674032805324,-105.1666822138669,-105.1662916805342,-105.1650902805361,-105.1642788805373,-105.1635278138718,-105.1629270805394,-105.1624764138734,-105.1620260805408,-105.1613054138753,-105.1601340138771,-105.1595030805447,-105.1587222138793,-105.1584820138797,-105.157610613881,-105.1574304138813,-105.1558684805503,-105.1555680805508],"lat":[40.65985720355449,40.65887447022276,40.65823467022378,40.65821207022368,40.65741200355824,40.65716067022532,40.65702367022555,40.65681807022586,40.65663567022606,40.6563840702266,40.65627000356011,40.65615547022693,40.6555840702277,40.65521840356173,40.6549440702289,40.65396047023037,40.65334300356465,40.65245140356606,40.65171980356719,40.65134856866315,40.65073647023517,40.64906680357136,40.64879240357173,40.64819780357255,40.64744280357377,40.6465732702417,40.6455206702435,40.64382740357934,40.6431408702471,40.64195120358228,40.64035007025136,40.63762820358905,40.63680460359031,40.63588940359167,40.6358436702585,40.63469967026014,40.63264000359673,40.63231947026388,40.63163280359835,40.63135827026542,40.63094647026612,40.63069487026643,40.63055767026662,40.6301458702672,40.62971147026808,40.62957427026819,40.62952900360158,40.62879700360264,40.62831667027018,40.6281338702704,40.62808820360392,40.62847740360321,40.62861487026968,40.62838647026999,40.62818080360368,40.62815807027046,40.62806660360375,40.62744900360486,40.62735760360497,40.62708340360523,40.62678587027256]}]],[[{"lng":[-105.1555680805508,-105.1553578138845,-105.1543364805527,-105.153735813887,-105.1527146138886,-105.1511528805576,-105.1489304805612,-105.1481496138956,-105.1462874805652,-105.1443052139017,-105.1435242805695,-105.140851213907,-105.1404306805744,-105.1402202805746,-105.1401600805748,-105.1399798805751,-105.1394692139092,-105.1390486805765,-105.1366762805801,-105.134844480583,-105.1338834805845,-105.1326520139198,-105.1310604139222,-105.1285078805928,-105.1281176139268,-105.127306813928,-105.1269464139286,-105.1267962139288,-105.1259554139301,-105.1259554139301,-105.1255350139307,-105.1250546139315,-105.1218716139365,-105.1210308806045,-105.120820813938,-105.120640680605,-105.1194996139402,-105.1187490139413,-105.1185988139416,-105.1184786806084,-105.118088280609,-105.117607813943,-105.1170072806107,-105.1158662139458,-105.1152956806134,-105.1146652806143,-105.114455213948,-105.1136446139492,-105.1126238139508,-105.1119932139518,-105.1109422806201,-105.1100414806215,-105.1095310139556,-105.1084200139572,-105.1077294139585,-105.1068586139598,-105.1064084806272,-105.1063484139605,-105.1062584806274,-105.1061384139609,-105.1056282806284,-105.1043976139636,-105.1043074806304,-105.1040974139641,-105.103527213965,-105.1034670806317],"lat":[40.62678587027256,40.6267630702726,40.62621420360678,40.62603120360694,40.6259400036072,40.62591747027386,40.62605527027345,40.62591820360704,40.6254150702746,40.62498060360874,40.62472907027573,40.62353960361081,40.62312767027823,40.62244120361273,40.62186920361348,40.62157180361392,40.62102260361486,40.6207022702818,40.62035940361574,40.62031380361595,40.62003927028289,40.61955887028368,40.61905560361789,40.61919287028428,40.61912427028432,40.61846067028544,40.61761400362001,40.61740807028706,40.61665287028816,40.61656140362166,40.61603507028907,40.61571480362301,40.61479947029095,40.61422727029197,40.61335780362675,40.61312887029353,40.61290000362735,40.61290000362735,40.61296860362724,40.61322027029363,40.613609270293,40.61388380362582,40.61404400362551,40.61411260362563,40.61390660362576,40.61342600362659,40.61251067029467,40.61180127029578,40.61164100362929,40.61182400362912,40.61170940362916,40.61177800362903,40.61189227029563,40.61234980362818,40.61234967029488,40.61209787029539,40.61145707029637,40.6109536036305,40.61088500363047,40.6103816036314,40.60937460363284,40.6083674703012,40.60816160363475,40.6081156703014,40.60756647030233,40.60720040363629]}]],[[{"lng":[-105.8095067249328,-105.8061060128744,-105.8062252795409,-105.8060452128745,-105.8058354128748,-105.8043370795439,-105.8038274128779,-105.8034070795452,-105.8030472128791,-105.8026274795464,-105.801818412881,-105.8011288128822,-105.7995698795513,-105.7971720795549,-105.7963328128896,-105.7947142795588,-105.7932756128943,-105.7916574128968,-105.7879406795693,-105.7870718129039,-105.7852134129068,-105.7836548795759,-105.7830554129101,-105.7820962795784,-105.7812876129128,-105.7809876795801,-105.7802086795812,-105.7796090795821,-105.7790694795831,-105.7785002795839,-105.7780206795847,-105.7775410129187,-105.7769118795863,-105.7758634129214,-105.7752940795888,-105.774754412923,-105.7742748795905,-105.773525812925,-105.7732558129254,-105.7731656795922,-105.7723558795935,-105.7722056795936,-105.7716658795945,-105.7712160795953,-105.7702868795967,-105.7698068795974,-105.7694474129313,-105.7686984129325,-105.7680686796,-105.7675292129342,-105.7671092796016,-105.7666290796024,-105.7663590796028,-105.7653086129377,-105.7648586796051,-105.7638100129401,-105.7635400129405,-105.762969879608,-105.7616500129434,-105.7605708129451,-105.7605102129452,-105.759970412946,-105.759730079613,-105.7592196796139,-105.7585294796149,-105.7573296129501,-105.7566694129511,-105.7562196129518,-105.7554096796198,-105.7548994129539,-105.754628479621,-105.7543882796213,-105.753518012956,-105.7528574796237,-105.752707079624,-105.7525854796242,-105.7524352129577,-105.7513246796261,-105.7505580129606,-105.7499888796281,-105.7492404796293,-105.7479822796312,-105.7461560129674,-105.7448688129694,-105.7443598129703,-105.7434308129717,-105.7425314796398,-105.7420222796405,-105.7415428796412,-105.7408834129757,-105.7401642796435,-105.7387558796456,-105.7382764129797,-105.7373174129812,-105.7366584129823,-105.7354902129839,-105.7344718129856,-105.7342024129861,-105.7337842129866,-105.7321382129892,-105.7319884796561],"lat":[40.42104206797625,40.42404707058709,40.42455060391971,40.42493947058577,40.42523680391874,40.42649440391668,40.42711187058242,40.4280956705808,40.42869040391323,40.42910207057944,40.42981087057822,40.43063427057683,40.43218920390797,40.43431580390436,40.43500160390346,40.43621327056822,40.43721920390011,40.43820200389845,40.44076227056133,40.44110487056074,40.44236200389195,40.4431158705576,40.44345867055705,40.44396127055614,40.44407507055609,40.44441807055552,40.44460060388852,40.44508060388796,40.44528607055422,40.44533140388737,40.44569707055354,40.44599420388648,40.44615380388621,40.44629027055259,40.44645000388572,40.44688427055167,40.44711267055138,40.44729520388447,40.4475008705508,40.44766087055056,40.44846107054928,40.44871267054899,40.44919267054814,40.44948980388094,40.44996967054698,40.45044967054628,40.45058667054604,40.4506088705459,40.4510430705452,40.45122567054486,40.45166007054426,40.45220887054347,40.45248320387645,40.45378640387426,40.45415220387382,40.45435707054016,40.4545398705398,40.45520300387216,40.45634580387041,40.45680247053625,40.45721427053576,40.45764847053505,40.45799147053455,40.4586088038669,40.45931747053248,40.46032320386411,40.46098620386327,40.46128307052943,40.46183147052858,40.46240300386091,40.46308920385994,40.46343220385931,40.46430087052472,40.46507807052345,40.4654670038563,40.4663820705214,40.46670240385425,40.46770800385275,40.46772600385277,40.46784100385253,40.46816220385207,40.46820927051863,40.46892067051746,40.46960847051644,40.46976920384952,40.46970160384961,40.4694050038501,40.46952000384988,40.46954327051649,40.46926940385035,40.46929307051693,40.46918000385045,40.46908900385063,40.46897547051736,40.46906760385068,40.46927467051702,40.46943587051672,40.46961920384973,40.4703746705154,40.4715890038467,40.47163487051338]}]],[[{"lng":[-105.7412576796418,-105.7414074129749,-105.7418572796408,-105.7420972796405,-105.7421876796403,-105.7426680796395,-105.7427284129728,-105.7424296129733,-105.7427316129727,-105.7430320796389,-105.7437226796379,-105.7448932796361,-105.7452246129689,-105.7452550129689,-105.7454952796351,-105.7466058129668,-105.7473264796323,-105.7475972796319,-105.747688012965],"lat":[40.51561660377828,40.51554787044521,40.51557027044505,40.5157072704449,40.51593600377796,40.51634740377731,40.5165076037771,40.51717140377605,40.518383803774,40.51874960377368,40.51927520377276,40.52005187043822,40.52078380377026,40.52101267043678,40.52126407043636,40.52192640376852,40.52252060376765,40.52300080376686,40.52338980376638]}]],[[{"lng":[-105.7961548795565,-105.7961844795564,-105.7953422128911,-105.7953710128911,-105.7957906795571,-105.7966310795558,-105.7970210128885,-105.7972906795547,-105.797740679554,-105.7980408128869,-105.7989716128855,-105.7998422128841,-105.8002024128836,-105.8007122128827,-105.8008018128825,-105.8007712128826,-105.8006204795495,-105.7995078795514,-105.7992670795516,-105.7993564795515,-105.7999560795506,-105.8000456128838,-105.8001028795504,-105.8001920128836,-105.8002820795501,-105.8004610795498,-105.8003990128833,-105.8004888128831,-105.8010588128823,-105.8013880795484,-105.8015680128814,-105.8019882128808,-105.8023484128802,-105.8030992128791,-105.8036696128782,-105.8045398795435,-105.8055898128751,-105.8066404128735,-105.8071504795394,-105.8073906128724,-105.8075402795389,-105.8075692128722,-105.8070558128729,-105.8068752128733,-105.8061838128743,-105.8061832128743,-105.80681347954],"lat":[40.60758880363555,40.60793200363499,40.60932720363285,40.61033407029817,40.61081487029721,40.61106707029695,40.61143347029639,40.61189120362899,40.6122348036285,40.61232647029492,40.61230407029501,40.61251060362801,40.61269387029437,40.61326620362674,40.61358660362628,40.61409000362546,40.61461620362479,40.61614860362226,40.61669760362149,40.61729247028726,40.61823107028574,40.61871160361833,40.62115987028132,40.62202947027986,40.62209820361306,40.62312787027805,40.62498127027526,40.62525587027491,40.62575960360744,40.62667520360601,40.62690407027235,40.62720180360507,40.62733927027158,40.6274540702715,40.62768327027111,40.62823287027027,40.62928607026863,40.6299044702677,40.63029367026698,40.63056840359998,40.63098040359928,40.63214740359752,40.63500720359308,40.6353960702591,40.63594487025836,40.63651687025737,40.63699767025664]}]],[[{"lng":[-105.80681347954,-105.8068730128732,-105.8067814795401,-105.8073812128724,-105.8083712795376,-105.8091816128697,-105.809361279536,-105.809360679536,-105.8090896128698,-105.8090290128698,-105.809328279536,-105.8095082128692,-105.8102880795345,-105.8105278795342,-105.8106172795341],"lat":[40.63699767025664,40.637569803589,40.638919803587,40.64008700358511,40.64123160358339,40.64203287024882,40.64253627024807,40.64319987024704,40.64386327024593,40.64438960357842,40.64560240357663,40.6459914702426,40.64711307024101,40.64773100357338,40.64848607023875]}]],[[{"lng":[-105.5803092798916,-105.5792870132265,-105.5782046132281,-105.5778136132287,-105.5772420798963,-105.5765506798974,-105.5757092798987,-105.5746870799002,-105.5740256799013,-105.5735446132354,-105.5724618132371,-105.5718902799046,-105.570296879907,-105.5697254132413,-105.567319013245,-105.5669580132457,-105.5665672132462,-105.5661464799135,-105.5648846799155,-105.5640132132501,-105.5627508132521,-105.5621494799197,-105.5590224132579,-105.556166279929,-105.5555046799301,-105.5551738132639,-105.554271279932,-105.5537598799327,-105.5531886799337,-105.5521966799352,-105.551054679937,-105.5500624799384,-105.5481080799416,-105.5470858799432,-105.5457032799453,-105.545222279946,-105.5437786799482,-105.5426362132834,-105.5408626799527,-105.5400206799541,-105.5392386132887,-105.5386372799563,-105.5382768132902,-105.538126879957,-105.5377666799576],"lat":[40.69808080349505,40.69819487016156,40.69853767016112,40.69876640349416,40.69892640349372,40.69878867016075,40.69835367016142,40.69810160349489,40.69819280349492,40.69835280349463,40.69899300349383,40.69917580349346,40.69926660349344,40.69944940349302,40.70091267015742,40.70100407015727,40.70098100349059,40.70072907015776,40.6997216034927,40.69928640349339,40.69898827016037,40.69891927016034,40.6991922034934,40.69919060349343,40.69928180349343,40.69941887015985,40.70003620349213,40.70021887015854,40.70021860349182,40.70008060349198,40.69969100349258,40.69964460349266,40.69982640349233,40.69978000349255,40.6994358701598,40.69941260349319,40.69980067015906,40.69979980349256,40.69954687015961,40.69966080349268,40.69988900349248,40.69986567015907,40.69968227015944,40.69931620349317,40.69890400349391]}]],[[{"lng":[-105.4776982133842,-105.475174013388,-105.4740322133898,-105.4735516133905,-105.4728012133917,-105.4724412133923,-105.4720520133929,-105.471932813393,-105.4719944800597,-105.4721154800595,-105.4720568800596,-105.47178728006,-105.4713074800608,-105.4706468800618,-105.4697158133964,-105.4670118134007,-105.4656594134028,-105.4641864800717,-105.4625028134078,-105.4606686800773,-105.4598564134119,-105.4591938134129,-105.4585618134138,-105.4582008134145,-105.4567576800833,-105.4558562800847,-105.455255613419,-105.4548654134196,-105.453935413421,-105.4536052134216,-105.4529746800893,-105.4519534134241,-105.4508416800925,-105.4491588800951,-105.4478670134304,-105.4471762800982,-105.4469962134318,-105.4467558800988],"lat":[40.67390360353266,40.67413467019902,40.67441027019863,40.6746166035316,40.67521220353064,40.67562440353009,40.67660860352858,40.67734087019402,40.67853067019223,40.67905687019137,40.68001800352313,40.68070460352209,40.68141440352102,40.68191827018694,40.68237680351968,40.68324860351821,40.68345547018464,40.68345667018454,40.68311480351832,40.68256700351924,40.6821100035199,40.68098927018836,40.68030327018935,40.68012047018956,40.67984687019008,40.68000767018992,40.68032847018941,40.68080927018857,40.68232007018624,40.68273227018568,40.68325900351812,40.68385467018386,40.68426727018317,40.68474880351582,40.68541327018135,40.68591707018073,40.68614607018038,40.68623780351351]}]],[[{"lng":[-105.1034670806317,-105.1033470806319,-105.0986944139724,-105.0972836139746,-105.0968634139752,-105.0959028806434,-105.0937116139801,-105.0933814806474,-105.0932014806477,-105.0926012139819,-105.0918508806497,-105.0897494139863,-105.0887288806546,-105.0880984139889,-105.0863270806584,-105.0856670139927,-105.0851872139934,-105.084797213994,-105.0838066139956,-105.0807444140003,-105.0798440140016,-105.079003814003],"lat":[40.60720040363629,40.6070858703031,40.60443047030724,40.60388100364145,40.60360627030836,40.60317127030912,40.60236987031048,40.60216380364393,40.60191207031112,40.60143127031186,40.60120227031229,40.600904203646,40.60060627031297,40.60058320364659,40.60078860364617,40.60017060364711,40.59932380364845,40.598980403649,40.59884267031595,40.59868140364946,40.5983836036498,40.5979256036505]}]],[[{"lng":[-105.079003814003,-105.0785246140037,-105.0780146140046,-105.0775346140053,-105.0769044140063,-105.07453321401,-105.0737230140112,-105.0733630140118,-105.0731232140122,-105.0723130806801,-105.071893214014,-105.0716836140144,-105.0712338140151,-105.0708438140157,-105.070573614016,-105.0702132806833,-105.0699730140169,-105.0691922806849,-105.0685318140193,-105.0679316140202,-105.0676016140207,-105.0676328140206,-105.067783080687,-105.0691342140183,-105.0695548140176,-105.0696752806842,-105.0695856806842,-105.0694195150798],"lat":[40.5979256036505,40.59641507031968,40.59579707032065,40.59543080365442,40.59517880365487,40.59481167032206,40.59451380365603,40.59426200365627,40.59364407032384,40.59318600365806,40.59279680365854,40.5921102036596,40.59158360366049,40.59140040366069,40.59137740366078,40.59149167032736,40.5916974703269,40.59194880365994,40.59194847032651,40.59176520366019,40.59146747032717,40.5902776036625,40.59009467032951,40.58956900366363,40.58911147033092,40.58860807033178,40.58812760366578,40.58793739047434]}]]],null,"hf_mainstem",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"line","stroke":true,"color":"#FF0000","weight":2,"opacity":0.9,"fill":false,"fillColor":"#6666FF","fillOpacity":1,"smoothFactor":1,"noClip":false},["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278673&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278674&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>2&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11238&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>5.541113&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td>13.325397&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>  51.43679&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278673&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278675&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278676&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11247&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>6.340693&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 7.440300&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 186.33094&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278675&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>3&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278676&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278677&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11251&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>5.794549&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 8.760597&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 212.32698&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278676&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>4&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278679&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278680&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11257&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>2.421149&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 4.516199&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 343.82462&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278679&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>5&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278680&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278681&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11260&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>4.997977&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 8.978846&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 364.55027&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278680&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>6&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278681&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278682&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11271&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>4.461299&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 6.630746&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 450.30183&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278681&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>7&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278682&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278683&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11280&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>6.774811&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td>11.133441&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 512.22767&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278682&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>8&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278683&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278684&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11283&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>4.226067&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 9.962096&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 534.32132&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278683&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>9&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278684&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278685&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11290&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>5.477423&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 8.613007&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 575.46347&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278684&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>10&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278686&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278687&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11297&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>7.476727&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td>14.740210&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 651.10939&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278686&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>11&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278688&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278689&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11345&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>2.062048&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 1.893154&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 968.65143&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278688&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>12&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278689&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278690&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11361&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>7.811481&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td>11.741396&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>1085.34767&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278689&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>13&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278690&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278691&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11365&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>5.542737&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 6.828294&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>1112.95876&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278690&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>14&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278691&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278692&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11375&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>4.205690&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 4.948663&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>1165.86033&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278691&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>15&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278692&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278693&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11389&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>8.919226&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td>11.263048&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>1254.23269&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278692&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>16&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278693&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278694&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>5&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11598&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>7.470683&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 8.554054&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>2733.75661&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278693&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>17&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278694&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278695&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>5&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11602&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>2.039047&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 8.175597&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>2759.72431&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278694&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>18&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278695&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278696&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>5&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11623&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>5.630000&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 8.727302&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>2909.76106&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278695&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>19&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278696&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278697&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>5&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11625&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>5.652614&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td>21.532945&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>2932.56976&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278696&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>20&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278672&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278673&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11236&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>9.249722&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td>20.081244&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>  20.08124&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278672&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>21&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278674&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278675&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>3&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11245&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>1.122110&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 1.141646&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>  87.73334&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278674&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>22&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278677&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278678&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11254&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>3.946373&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 6.295047&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 232.38889&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278677&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>23&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278678&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278679&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11255&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>1.373482&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 2.257202&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 333.70322&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278678&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>24&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278685&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278686&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11294&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>3.920098&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 6.047995&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 609.67427&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278685&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>25&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278687&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278688&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11305&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>3.772041&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 5.501253&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 693.90709&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278687&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>26&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278697&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278698&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>5&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11626&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>2.424783&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td>26.686341&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>2959.25610&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278697&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>27&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278698&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278699&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>5&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11627&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>1.889081&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 6.671705&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>2965.92781&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278698&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":3,"opacity":1,"fill":false,"fillOpacity":0,"bringToFront":false,"sendToBack":false}]},{"method":"addHomeButton","args":[-105.8128916128639,40.42104206797625,-105.0676016140207,40.71387000347061,true,"hf_mainstem","Zoom to hf_mainstem","<strong> hf_mainstem <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],["geoconnex_mainstem","hf_mainstem"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#FF0000"],"labels":["hf_mainstem"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"hf_mainstem"}]},{"method":"addHomeButton","args":[-105.8128916128639,40.41797827059656,-104.5999508814133,40.71387000347061,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[40.41797827059656,40.71387000347061],"lng":[-105.8128916128639,-104.5999508814133]},"fitBounds":[40.41797827059656,-105.8128916128639,40.71387000347061,-104.5999508814133,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script><ul>
<li>Anything that is mapped to a shared mainstem ID (observations,
models, etc) can be shared across realizations and become more
“durable”</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="nexus">3. <a href="https://docs.opengeospatial.org/is/14-111r6/14-111r6.html#_hydro_logic_nexus" class="external-link">Nexus</a><a class="anchor" aria-label="anchor" href="#nexus"></a>
</h2>
<p>A nexus provides a conceptual outlet for water contained by a
catchment.</p>
<p>They are the locations where NextGen will exchange information!</p>
<ul>
<li><p>some are defined by POIs</p></li>
<li><p>Others are defined by locations in a network where a 1:1 inflow
and outflow occur</p></li>
</ul>
<p>Every catchment flows to a hydro nexus, conversely every location in
a hydrologic system can be thought of as a hydro nexus that drains some
catchment(s).</p>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c1dbe2ab09d1ba6ebbc8" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c1dbe2ab09d1ba6ebbc8">{"x":{"filter":"none","vertical":false,"data":[["id","toid","hl_id","hl_uri","type","geometry"],["A hydrofabric specfic, globaly unique flowline identifier","The identifier of the directly downstream flowpath/flowline","A hydrofabric specifc, globaly unique, hydrologic location identifier","A comma seperated conncatination of hl_reference and hl_link that mirrors thse used in the NLDI","Type of network feature (network, internal, coastal, connector)","Simple Features Geometry (POINT, LINESTRING, POLYGON)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Attribute<\/th>\n      <th>Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":35,"dom":"t","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,25,35,50,100]}},"evals":[],"jsHooks":[]}</script><div class="section level3">
<h3 id="consequense-of-network-aggregation">Consequense of Network Aggregation<a class="anchor" aria-label="anchor" href="#consequense-of-network-aggregation"></a>
</h3>
<p>More then one divide/flowpath (e.g. catchment) can contribute to a
single nexus:</p>
<p><img src="04-data-model-deep-dive_files/figure-html/unnamed-chunk-9-1.png" width="100%"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">count</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">divides</span><span class="op">$</span><span class="va">toid</span><span class="op">)</span>, decreasing<span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </span>
<span></span>
<span><span class="op">(</span><span class="va">example</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">count</span><span class="op">[</span><span class="va">count</span> <span class="op">==</span> <span class="fl">3</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "nex-278677"</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">sub_divides</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">divides</span>, <span class="va">toid</span> <span class="op">==</span> <span class="va">example</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Simple feature collection with 3 features and 9 fields</span></span>
<span><span class="co">## Geometry type: MULTIPOLYGON</span></span>
<span><span class="co">## Dimension:     XY</span></span>
<span><span class="co">## Bounding box:  xmin: -822945 ymin: 1992135 xmax: -814845 ymax: 1998225</span></span>
<span><span class="co">## Projected CRS: NAD83 / Conus Albers</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 10</span></span></span>
<span><span class="co">##   divide_id  toid      type  ds_id areasqkm id    lengthkm tot_drainage_areasqkm</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> cat-278676 nex-2786… netw…    <span style="color: #BB0000;">NA</span>     8.76 wb-2…     5.79                212.  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> cat-302482 nex-2786… netw…    <span style="color: #BB0000;">NA</span>    10.8  wb-3…     5.93                 10.8 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> cat-307410 nex-2786… netw…    <span style="color: #BB0000;">NA</span>     4.60 wb-3…     3.97                  4.60</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 2 more variables: has_flowline &lt;int&gt;, geom &lt;MULTIPOLYGON [m]&gt;</span></span></span></code></pre>
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-fa060ea6f827bf66c9cb" style="width:100%;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-fa060ea6f827bf66c9cb">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[-105.8095142017751,-105.8095382016363,-105.8105308954415,-105.8124424975692,-105.8122582965048,-105.8139617030847,-105.8140354015699,-105.8167443008862,-105.8183501996661,-105.8192083995176,-105.8197849959002,-105.8185107010347,-105.8188055030634,-105.819197798253,-105.816649002145,-105.8164409020983,-105.8148478002626,-105.8141368947385,-105.8119063949154,-105.8139047951334,-105.8130224999401,-105.8132067955842,-105.8118583971638,-105.8116870957001,-105.813427796944,-105.8149235995594,-105.8169959969998,-105.8177438969226,-105.8165428965167,-105.8166534953853,-105.8154893026193,-105.8131110010732,-105.8116888034156,-105.8114069035059,-105.811812099106,-105.8103897977111,-105.808685603354,-105.8077292984628,-105.8068834958173,-105.8070676984892,-105.8078156961463,-105.8079998989163,-105.8066879042745,-105.8052285971313,-105.8028865947251,-105.802714994752,-105.8013293054176,-105.8007652988031,-105.8009861031623,-105.8006673051224,-105.7978220990328,-105.7959335009419,-105.7957864058586,-105.7950383051478,-105.7941062983212,-105.7916168955885,-105.7912245030891,-105.7902559044045,-105.7883306992187,-105.7880734011,-105.7874972976712,-105.7884906042126,-105.78888289568,-105.7924389026751,-105.7934688944561,-105.7966692949496,-105.7995507965722,-105.8001516020976,-105.8000411958664,-105.8013163050757,-105.8021621945788,-105.8017329973481,-105.7993788973504,-105.7981650020809,-105.7980545963477,-105.7960930024221,-105.7946708039673,-105.7934571012548,-105.7929791054617,-105.7921944943658,-105.7900614043024,-105.7885658037277,-105.7882349974581,-105.7874872967341,-105.7869848025027,-105.7855627982678,-105.7854524970812,-105.7868010947394,-105.7859431010119,-105.7853304995751,-105.7863601972213,-105.786139801181,-105.7871326983477,-105.7873413049249,-105.7886529010933,-105.7885059019047,-105.7904181962349,-105.7899771942648,-105.7902224021148,-105.7918892998747,-105.7933477035331,-105.794230199557,-105.7945488015459,-105.7970367037461,-105.798029400242,-105.7991692050435,-105.8005908005248,-105.8029440049553,-105.8041941998705,-105.8045621944786,-105.8088033052552,-105.8095142017751],"lat":[40.5681696984453,40.56574450134039,40.56512880336376,40.56336480181641,40.56203279764467,40.56136189692562,40.56189469995437,40.56329990176549,40.56452140205141,40.5655318003203,40.56710260089078,40.56827869725178,40.5704098980132,40.5706487021171,40.57300090239724,40.57409420300903,40.57556429670217,40.57561949950126,40.57767759704502,40.57913799723438,40.58055290245593,40.58188500038354,40.58252820019004,40.58388790240284,40.5834834041133,40.58390580401807,40.58589900386822,40.58611020419786,40.58781910381062,40.58861829767412,40.59059360371209,40.59158619993032,40.59169659622741,40.59225700284416,40.59518750042093,40.59529790089201,40.59596879681558,40.59685079851629,40.59853199964917,40.5998641004382,40.60007529820992,40.6014074007037,40.60231699866766,40.60216099683942,40.60341969959095,40.60477939880911,40.60515610343544,40.60627689950196,40.60787539939385,40.60816940119651,40.60838999828565,40.60772849742035,40.60666280351465,40.60645149885602,40.60490809968405,40.60510099719991,40.60486210219167,40.60305230254723,40.60212430287854,40.60025939728833,40.5986883964081,40.59807290056897,40.59831179906445,40.59803629952132,40.59768729647354,40.59743930075274,40.59748519830328,40.5966307993078,40.59583149631442,40.59465560282289,40.59297429773449,40.59246910068359,40.59103600185639,40.59005309989601,40.58925380122978,40.58805960356759,40.58816979609576,40.58718679642089,40.58372340345718,40.58324569654232,40.583410903464,40.58298829591247,40.58059049676363,40.58037919983586,40.57934109704114,40.57945120029087,40.57865190052888,40.57800899670116,40.57699840288891,40.57516100360748,40.57481199892796,40.57321350315546,40.57259809829348,40.57150489874999,40.57059550170403,40.56952980085131,40.5677660997591,40.56456909663018,40.56374229811624,40.5628053968575,40.56296160172821,40.56154689646262,40.5612528969691,40.56106000112369,40.56044450300703,40.56089459916968,40.5607842975974,40.56221729811885,40.56346659720143,40.56613069832525,40.56822490001236,40.5681696984453]}]],[[{"lng":[-105.7368161969992,-105.734536101386,-105.731937097426,-105.7314984987282,-105.732382597084,-105.7325919961913,-105.735290604713,-105.735536503019,-105.7327550980329,-105.7314691033988,-105.7313595002059,-105.7297911010025,-105.7285417034576,-105.7270098971805,-105.7261527036495,-105.7255780977938,-105.7247939993035,-105.7248939951707,-105.7258874955219,-105.7261334955816,-105.7283665048579,-105.7311376032056,-105.7323501954373,-105.7421523040271,-105.7430828003408,-105.7446147969882,-105.7469675969208,-105.7480343018735,-105.7492107978949,-105.7506695999909,-105.7516264014305,-105.7529754034898,-105.7565308987054,-105.7575975020734,-105.759914001292,-105.7627950989002,-105.7644371948284,-105.7672449978774,-105.7683116954878,-105.7698438978922,-105.7696717948072,-105.7704196039347,-105.7706763975483,-105.7732021030781,-105.7748446041311,-105.775948003018,-105.7790496965501,-105.7791230988415,-105.7813667951976,-105.7849226995341,-105.7853886010712,-105.7868108994016,-105.7869946950554,-105.7884906042126,-105.7874972976712,-105.7880734011,-105.7883306992187,-105.7902559044045,-105.7912245030891,-105.7916168955885,-105.7941062983212,-105.7950383051478,-105.7957864058586,-105.7959335009419,-105.7941552964871,-105.7935175994985,-105.7909913041051,-105.7883665948164,-105.7884402048938,-105.7868088983224,-105.7871764990816,-105.7866489047426,-105.7855818043254,-105.7833741950165,-105.7832271978917,-105.7851775053334,-105.7845894969023,-105.7837311989712,-105.7833387985623,-105.7701797002085,-105.7669420023282,-105.7658383974001,-105.7646247023826,-105.758222896414,-105.7573650030813,-105.7548387014328,-105.7519935036307,-105.7508899004809,-105.7500320948854,-105.7461094965801,-105.7460363005786,-105.743902501274,-105.7427258052875,-105.7412667035975,-105.7400900010486,-105.7389499979917,-105.7368161969992],"lat":[40.60125630190299,40.60035489714584,40.59974729750557,40.596550000081,40.5951356968267,40.59404260387915,40.59275779592074,40.59193109885695,40.5899912995358,40.58847479786051,40.58767550284736,40.58671929776995,40.58546930198592,40.58477939962804,40.5837684023734,40.58219720297316,40.58171900363269,40.57982660155769,40.57921169927484,40.5783850007696,40.57632840295872,40.57557650028247,40.5765601005135,40.58253600079426,40.58407979731081,40.58476939635398,40.58620349649591,40.58612119807892,40.58683820226891,40.58699490059134,40.58611339768105,40.5854707001637,40.58519629925724,40.58511399898437,40.58628139798456,40.58632810040937,40.58781669675682,40.58733049616957,40.58724809989864,40.58793740387624,40.58929699658989,40.58950849961333,40.59137340334844,40.5914474007925,40.59293590256846,40.59311990006907,40.59476479966784,40.59529759995893,40.59593180341241,40.59565649986823,40.59642829676838,40.59631810076922,40.59765019834885,40.59807290056897,40.5986883964081,40.60025939728833,40.60212430287854,40.60305230254723,40.60486210219167,40.60510099719991,40.60490809968405,40.60645149885602,40.60666280351465,40.60772849742035,40.60786629906991,40.60845419814299,40.60838069865522,40.61019949759575,40.61073240174755,40.61193579655606,40.61460000294036,40.6159871999317,40.61606980000543,40.61570209892394,40.61463639840665,40.61313910109958,40.60887629926153,40.60786569876472,40.6076267965497,40.60864450135545,40.60862549608836,40.6084414982202,40.60745819639384,40.60795249868487,40.60694170284842,40.60686740217267,40.60708689903487,40.60690280023915,40.60589190123827,40.60350189670939,40.60296899607892,40.60313350238388,40.60241639938901,40.60225960005352,40.60154259786516,40.6010919037281,40.60125630190299]}]],[[{"lng":[-105.7644371948284,-105.7627950989002,-105.759914001292,-105.7575975020734,-105.7565308987054,-105.7575243019052,-105.7589463963378,-105.7615342016334,-105.7640596035621,-105.7646973021452,-105.7661194049965,-105.7671126955019,-105.7673582015809,-105.7706199016182,-105.7727528982808,-105.773856195135,-105.7755602987938,-105.7771291033225,-105.7785511041069,-105.7793721957121,-105.7807575052107,-105.7836016032975,-105.784385999546,-105.7854524970812,-105.7855627982678,-105.7869848025027,-105.7874872967341,-105.7882349974581,-105.7885658037277,-105.7900614043024,-105.7921944943658,-105.7929791054617,-105.7934571012548,-105.7946708039673,-105.7960930024221,-105.7980545963477,-105.7981650020809,-105.7993788973504,-105.8017329973481,-105.8021621945788,-105.8013163050757,-105.8000411958664,-105.8001516020976,-105.7995507965722,-105.7966692949496,-105.7934688944561,-105.7924389026751,-105.78888289568,-105.7884906042126,-105.7869946950554,-105.7868108994016,-105.7853886010712,-105.7849226995341,-105.7813667951976,-105.7791230988415,-105.7790496965501,-105.775948003018,-105.7748446041311,-105.7732021030781,-105.7706763975483,-105.7704196039347,-105.7696717948072,-105.7698438978922,-105.7683116954878,-105.7672449978774,-105.7644371948284],"lat":[40.58781669675682,40.58632810040937,40.58628139798456,40.58511399898437,40.58519629925724,40.58458109871952,40.58447129763409,40.5823866010379,40.58246080241759,40.58187299790918,40.58176310282951,40.58114780299064,40.58032109791701,40.57791490208974,40.57774989960173,40.57793390268284,40.57726349812197,40.57821920372266,40.57810909757448,40.57885339844763,40.57847689879477,40.5782567024295,40.5787345011226,40.57865190052888,40.57945120029087,40.57934109704114,40.58037919983586,40.58059049676363,40.58298829591247,40.583410903464,40.58324569654232,40.58372340345718,40.58718679642089,40.58816979609576,40.58805960356759,40.58925380122978,40.59005309989601,40.59103600185639,40.59246910068359,40.59297429773449,40.59465560282289,40.59583149631442,40.5966307993078,40.59748519830328,40.59743930075274,40.59768729647354,40.59803629952132,40.59831179906445,40.59807290056897,40.59765019834885,40.59631810076922,40.59642829676838,40.59565649986823,40.59593180341241,40.59529759995893,40.59476479966784,40.59311990006907,40.59293590256846,40.5914474007925,40.59137340334844,40.58950849961333,40.58929699658989,40.58793740387624,40.58724809989864,40.58733049616957,40.58781669675682]}]]],null,"sub_divides",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6,"smoothFactor":1,"noClip":false},["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>divide_id&emsp;<\/th><td>cat-278676&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278677&emsp;<\/td><\/tr><tr><td>3<\/td><th>type&emsp;<\/th><td>network&emsp;<\/td><\/tr><tr><td>4<\/td><th>ds_id&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>5<\/td><th>areasqkm&emsp;<\/th><td> 8.760597&emsp;<\/td><\/tr><tr><td>6<\/td><th>id&emsp;<\/th><td>wb-278676&emsp;<\/td><\/tr><tr><td>7<\/td><th>lengthkm&emsp;<\/th><td>5.794549&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>212.326979&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_flowline&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>divide_id&emsp;<\/th><td>cat-302482&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278677&emsp;<\/td><\/tr><tr><td>3<\/td><th>type&emsp;<\/th><td>network&emsp;<\/td><\/tr><tr><td>4<\/td><th>ds_id&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>5<\/td><th>areasqkm&emsp;<\/th><td>10.750959&emsp;<\/td><\/tr><tr><td>6<\/td><th>id&emsp;<\/th><td>wb-302482&emsp;<\/td><\/tr><tr><td>7<\/td><th>lengthkm&emsp;<\/th><td>5.927967&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 10.750959&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_flowline&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>3&emsp;<\/td><\/tr><tr><td>1<\/td><th>divide_id&emsp;<\/th><td>cat-307410&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278677&emsp;<\/td><\/tr><tr><td>3<\/td><th>type&emsp;<\/th><td>network&emsp;<\/td><\/tr><tr><td>4<\/td><th>ds_id&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>5<\/td><th>areasqkm&emsp;<\/th><td> 4.602609&emsp;<\/td><\/tr><tr><td>6<\/td><th>id&emsp;<\/th><td>wb-307410&emsp;<\/td><\/tr><tr><td>7<\/td><th>lengthkm&emsp;<\/th><td>3.968176&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>  4.602609&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_flowline&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["1","2","3"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-105.8197849959002,40.56044450300703,-105.7247939993035,40.61606980000543,true,"sub_divides","Zoom to sub_divides","<strong> sub_divides <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["sub_divides"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"sub_divides"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[40.60758880363555,-105.7961548795565,6,null,"filter(nexus, id == example)",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6},null,null,"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>nex-278677&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>wb-278677&emsp;<\/td><\/tr><tr><td>3<\/td><th>hl_id&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>4<\/td><th>hl_uri&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>5<\/td><th>type&emsp;<\/th><td>nexus&emsp;<\/td><\/tr><tr><td>6<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addHomeButton","args":[-105.7961548795565,40.60758880363555,-105.7961548795565,40.60758880363555,true,"filter(nexus, id == example)","Zoom to filter(nexus, id == example)","<strong> filter(nexus, id == example) <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["filter(nexus, id == example)"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"filter(nexus, id == example)"}]},{"method":"createMapPane","args":["line",430]},{"method":"addPolylines","args":[[[[{"lng":[-105.7903254795656,-105.7906554795651,-105.7913744795639,-105.7933224795609,-105.7945808795589,-105.7957190795571,-105.7959282128901,-105.79604821289,-105.7964670128894,-105.7967366128889,-105.7967962795556,-105.7969762128886,-105.7969762128886,-105.7984446128863,-105.7997940795509,-105.8013540128817,-105.8019840128808,-105.8024936795467,-105.8027030795463,-105.8030908128791,-105.8034496128786,-105.8036892795448,-105.8041078128775,-105.8040474795442,-105.8028458128794,-105.8020946128806,-105.8017036795479,-105.8015830795481,-105.8017326128812,-105.8023018795469,-105.8030214795459,-105.8035010128785,-105.8036808795449,-105.8041900128773,-105.8040988128775,-105.8039480795445,-105.8039174795445,-105.8045164795436,-105.8045746128768,-105.8044234795437,-105.8042132128774,-105.8037326128781,-105.8013608128818,-105.8007302128827,-105.8002496128835,-105.8003382795499,-105.8002176795501,-105.7991954795518,-105.7975120795544,-105.7972412128882,-105.7970904128885,-105.7970588795552,-105.7963662795562,-105.7963652795562,-105.7961548795565],"lat":[40.56369820370367,40.56379000370366,40.56461427036911,40.5664002703662,40.56798000369724,40.5696740036945,40.57040640369331,40.57052087035981,40.57161947035823,40.5719858036909,40.5722604036904,40.57239780369019,40.57248927035692,40.57411480368752,40.57496227035285,40.57535227035216,40.57562727035194,40.57606227035111,40.57661160368384,40.57876267034705,40.58002140367844,40.58043340367772,40.58196667034221,40.58228700367477,40.58354480367296,40.58420780367192,40.58487107033746,40.58544307033662,40.58592367033597,40.58679360366788,40.58752620366671,40.5882358703323,40.58837327033201,40.58956340366359,40.59066160366193,40.59114200366121,40.59164540366035,40.59288140365841,40.5948720703221,40.59581007032047,40.59608447032008,40.59624447031991,40.5965862036526,40.59679167031906,40.59708887031866,40.59839320364993,40.59880487031585,40.60017720364706,40.60221247031058,40.6028300703096,40.60344780364206,40.60470627030674,40.60651347030404,40.60736007030262,40.60758880363555]}]],[[{"lng":[-105.737175309665,-105.7372090796479,-105.7375402129808,-105.7383520129795,-105.7388928796454,-105.7395236796444,-105.7406048796427,-105.7408754129757,-105.7413270796416,-105.7417780796409,-105.7432806129719,-105.743852412971,-105.7444860129701,-105.7448772796361,-105.7454788129685,-105.7463800129672,-105.7470108796329,-105.7505530129606,-105.7528510796237,-105.7534512129562,-105.7549808129538,-105.7571708129503,-105.7583106796153,-105.7596010796133,-105.7614918796103,-105.7635624129405,-105.7647930796052,-105.766803279602,-105.7683642795996,-105.7700750795969,-105.7711554129286,-105.7725954795931,-105.774845212923,-105.7762254795875,-105.7778154795849,-105.778685212917,-105.779345412916,-105.7802460129146,-105.7809060129135,-105.7833652795764,-105.7841458795752,-105.785768012906,-105.7866990795712,-105.7890710129009,-105.7899416795661,-105.7900616128992,-105.7920728795628,-105.7943242128927,-105.7948346128919,-105.7961548795565],"lat":[40.5872124195876,40.58733187033376,40.58788080366616,40.58868080366503,40.5890692036644,40.58938887033057,40.58970820366334,40.58998247032962,40.59080580366165,40.59124007032769,40.59224527032606,40.59302267032479,40.5948526036554,40.59544707032114,40.5960870703201,40.59645227031952,40.59674900365246,40.59665380365256,40.59679760365243,40.59693547031887,40.59769207031758,40.59844947031646,40.59895400364889,40.59920700364874,40.59941467031503,40.5999430036476,40.60003567031396,40.60070107031304,40.60072540364632,40.60095580364594,40.60125420364544,40.60178167031138,40.60301920364271,40.60347807030868,40.60425727030741,40.60492160363976,40.60512807030615,40.60522040363924,40.60556407030542,40.60748807030251,40.60746580363588,40.60673487030355,40.60646100363734,40.60625680363764,40.60632607030416,40.60637187030425,40.60662500363716,40.60699247030312,40.60699287030317,40.60758880363555]}]],[[{"lng":[-105.766750212599,-105.7675210129343,-105.7686624795993,-105.7695934129311,-105.7712146129285,-105.7716650129279,-105.772626279593,-105.773977679591,-105.7749082795895,-105.7759286795879,-105.7766484795868,-105.7775178795854,-105.7787778795835,-105.7805476795808,-105.7812980129129,-105.7825888795775,-105.7831294129101,-105.7831422795766,-105.7832270795765,-105.7833118795764,-105.7833966795764,-105.7834814795762,-105.7835662795761,-105.7835736129094,-105.783585879576,-105.7835980795759,-105.7836104129094,-105.7836226129092,-105.783634879576,-105.7836130129092,-105.7835504795761,-105.7834880129095,-105.7834254795762,-105.7833976795764,-105.7832170129099,-105.7831862129099,-105.7842944129082,-105.7845040795746,-105.7851936795736,-105.7859136795724,-105.7862734795719,-105.7863326795717,-105.7864522795715,-105.7872316795704,-105.7873510129035,-105.7875008129033,-105.7879806795691,-105.7885806795683,-105.7905614795652,-105.791581812897,-105.792181812896,-105.7929314795616,-105.7937706128935,-105.7944304795592,-105.7957510795571,-105.7962010795565,-105.7968608795554,-105.7970406128885,-105.7975204128878,-105.7982398128865,-105.8001594795503,-105.8002496128835],"lat":[40.58389588412409,40.58370080367281,40.58306107034028,40.58267300367428,40.58230840367478,40.58210280367516,40.58146300367603,40.58102940367675,40.58082427034386,40.58082507034376,40.58110040367675,40.58174167034244,40.58206307034194,40.58268227034093,40.58270580367429,40.5823636703414,40.58229540367498,40.58234047034143,40.58240320367474,40.58246587034131,40.58252860367445,40.58259127034093,40.58265400367441,40.58270727034089,40.5827960703408,40.58288487034066,40.58297367034052,40.58306247034045,40.58315140367362,40.58317800367355,40.58325400367346,40.5833300036733,40.58340600367305,40.58350827033965,40.58398867033896,40.58462940367126,40.58620900366871,40.586506670335,40.58707920366758,40.58733147033369,40.58762920366664,40.58827000366566,40.58859027033179,40.5893460703307,40.58994100366294,40.59017000366265,40.59049060366214,40.59069700366187,40.59083567032821,40.59101947032803,40.59124867032766,40.59186707032676,40.59292020365839,40.59337827032441,40.59347067032423,40.59365407032395,40.59415787032321,40.59445547032261,40.59491340365535,40.5958748703206,40.59708880365193,40.59708887031866]}]]],null,"filter(flowpaths, toid == example)",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"line","stroke":true,"color":"#6666FF","weight":2,"opacity":0.9,"fill":false,"fillColor":"#6666FF","fillOpacity":1,"smoothFactor":1,"noClip":false},["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278676&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278677&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>4&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11251&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>5.794549&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 8.760597&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>212.326979&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278676&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-302482&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278677&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>710348&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11252&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>5.927967&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td>10.750959&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td> 10.750959&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-302482&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>3&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-307410&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278677&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>785883&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11248&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>3.968176&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td> 4.602609&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>  4.602609&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-307410&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["1","2","3"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":3,"opacity":1,"fill":false,"fillOpacity":0,"bringToFront":false,"sendToBack":false}]},{"method":"addHomeButton","args":[-105.8045746128768,40.56369820370367,-105.737175309665,40.60758880363555,true,"filter(flowpaths, toid == example)","Zoom to filter(flowpaths, toid == example)","<strong> filter(flowpaths, toid == example) <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["filter(flowpaths, toid == example)"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"filter(flowpaths, toid == example)"}]},{"method":"addPolygons","args":[[[[{"lng":[-105.8095142017751,-105.8095382016363,-105.8105308954415,-105.8124424975692,-105.8122582965048,-105.8139617030847,-105.8140354015699,-105.8167443008862,-105.8183501996661,-105.8192083995176,-105.8197849959002,-105.8185107010347,-105.8188055030634,-105.819197798253,-105.816649002145,-105.8164409020983,-105.8148478002626,-105.8141368947385,-105.8119063949154,-105.8139047951334,-105.8130224999401,-105.8132067955842,-105.8118583971638,-105.8116870957001,-105.813427796944,-105.8149235995594,-105.8169959969998,-105.8177438969226,-105.8165428965167,-105.8166534953853,-105.8154893026193,-105.8131110010732,-105.8116888034156,-105.8114069035059,-105.811812099106,-105.8103897977111,-105.808685603354,-105.8077292984628,-105.8068834958173,-105.8070676984892,-105.8078156961463,-105.8079998989163,-105.8066879042745,-105.8052285971313,-105.8028865947251,-105.802714994752,-105.8013293054176,-105.8007652988031,-105.8009861031623,-105.8006673051224,-105.7978220990328,-105.7959335009419,-105.7957864058586,-105.7950383051478,-105.7941062983212,-105.7916168955885,-105.7912245030891,-105.7902559044045,-105.7883306992187,-105.7880734011,-105.7874972976712,-105.7884906042126,-105.78888289568,-105.7924389026751,-105.7934688944561,-105.7966692949496,-105.7995507965722,-105.8001516020976,-105.8000411958664,-105.8013163050757,-105.8021621945788,-105.8017329973481,-105.7993788973504,-105.7981650020809,-105.7980545963477,-105.7960930024221,-105.7946708039673,-105.7934571012548,-105.7929791054617,-105.7921944943658,-105.7900614043024,-105.7885658037277,-105.7882349974581,-105.7874872967341,-105.7869848025027,-105.7855627982678,-105.7854524970812,-105.7868010947394,-105.7859431010119,-105.7853304995751,-105.7863601972213,-105.786139801181,-105.7871326983477,-105.7873413049249,-105.7886529010933,-105.7885059019047,-105.7904181962349,-105.7899771942648,-105.7902224021148,-105.7918892998747,-105.7933477035331,-105.794230199557,-105.7945488015459,-105.7970367037461,-105.798029400242,-105.7991692050435,-105.8005908005248,-105.8029440049553,-105.8041941998705,-105.8045621944786,-105.8088033052552,-105.8095142017751],"lat":[40.5681696984453,40.56574450134039,40.56512880336376,40.56336480181641,40.56203279764467,40.56136189692562,40.56189469995437,40.56329990176549,40.56452140205141,40.5655318003203,40.56710260089078,40.56827869725178,40.5704098980132,40.5706487021171,40.57300090239724,40.57409420300903,40.57556429670217,40.57561949950126,40.57767759704502,40.57913799723438,40.58055290245593,40.58188500038354,40.58252820019004,40.58388790240284,40.5834834041133,40.58390580401807,40.58589900386822,40.58611020419786,40.58781910381062,40.58861829767412,40.59059360371209,40.59158619993032,40.59169659622741,40.59225700284416,40.59518750042093,40.59529790089201,40.59596879681558,40.59685079851629,40.59853199964917,40.5998641004382,40.60007529820992,40.6014074007037,40.60231699866766,40.60216099683942,40.60341969959095,40.60477939880911,40.60515610343544,40.60627689950196,40.60787539939385,40.60816940119651,40.60838999828565,40.60772849742035,40.60666280351465,40.60645149885602,40.60490809968405,40.60510099719991,40.60486210219167,40.60305230254723,40.60212430287854,40.60025939728833,40.5986883964081,40.59807290056897,40.59831179906445,40.59803629952132,40.59768729647354,40.59743930075274,40.59748519830328,40.5966307993078,40.59583149631442,40.59465560282289,40.59297429773449,40.59246910068359,40.59103600185639,40.59005309989601,40.58925380122978,40.58805960356759,40.58816979609576,40.58718679642089,40.58372340345718,40.58324569654232,40.583410903464,40.58298829591247,40.58059049676363,40.58037919983586,40.57934109704114,40.57945120029087,40.57865190052888,40.57800899670116,40.57699840288891,40.57516100360748,40.57481199892796,40.57321350315546,40.57259809829348,40.57150489874999,40.57059550170403,40.56952980085131,40.5677660997591,40.56456909663018,40.56374229811624,40.5628053968575,40.56296160172821,40.56154689646262,40.5612528969691,40.56106000112369,40.56044450300703,40.56089459916968,40.5607842975974,40.56221729811885,40.56346659720143,40.56613069832525,40.56822490001236,40.5681696984453]}]]],null,"slice_max(sub_divides, tot_drainage_areasqkm)",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#FF0000","weight":0.5,"opacity":0.9,"fill":true,"fillColor":"#FFFFFF","fillOpacity":0.6,"smoothFactor":1,"noClip":false},"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>divide_id&emsp;<\/th><td>cat-278676&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278677&emsp;<\/td><\/tr><tr><td>3<\/td><th>type&emsp;<\/th><td>network&emsp;<\/td><\/tr><tr><td>4<\/td><th>ds_id&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>5<\/td><th>areasqkm&emsp;<\/th><td>8.760597&emsp;<\/td><\/tr><tr><td>6<\/td><th>id&emsp;<\/th><td>wb-278676&emsp;<\/td><\/tr><tr><td>7<\/td><th>lengthkm&emsp;<\/th><td>5.794549&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>212.327&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_flowline&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addHomeButton","args":[-105.8197849959002,40.56044450300703,-105.7853304995751,40.60838999828565,true,"slice_max(sub_divides, tot_drainage_areasqkm)","Zoom to slice_max(sub_divides, tot_drainage_areasqkm)","<strong> slice_max(sub_divides, tot_drainage_areasqkm) <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],["sub_divides","filter(nexus, id == example)","filter(flowpaths, toid == example)","slice_max(sub_divides, tot_drainage_areasqkm)"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#DD5C5C"],"labels":["slice_max(sub_divides, tot_drainage_areasqkm)"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"slice_max(sub_divides, tot_drainage_areasqkm)"}]},{"method":"addHomeButton","args":[-105.8197849959002,40.56044450300703,-105.7247939993035,40.61606980000543,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[40.56044450300703,40.61606980000543],"lng":[-105.8197849959002,-105.7247939993035]},"fitBounds":[40.56044450300703,-105.8197849959002,40.61606980000543,-105.7247939993035,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
</div>
<div class="section level2">
<h2 id="hydrolocations">4. <a href="https://docs.opengeospatial.org/is/14-111r6/14-111r6.html#_hydro_logic_location" class="external-link">Hydrolocations</a><a class="anchor" aria-label="anchor" href="#hydrolocations"></a>
</h2>
<ul>
<li><p>A hydrolocation can define any location of hydrologic
significance located “on” a hydrologic network</p></li>
<li><p>In a given dataset, hydrolocations may or may not have an
associated hydrologic nexus and catchment feature.</p></li>
<li><p>In such cases, hydro locations would typically be
linearly-referenced to a defined set of flowpaths.</p></li>
<li><p>Topologically, a hydro-location can be understood as an inlet or
outlet node located at the end of a flowpath edge.</p></li>
<li><p>In NextGen design, a subset of the community POIs, are treated as
hydrolocations in which the network CANNOT be refactored or aggregated
“over”.</p></li>
</ul>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-b274bb10a14aeefdb865" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b274bb10a14aeefdb865">{"x":{"filter":"none","vertical":false,"data":[["hl_id","hl_reference","hl_link","hl_uri","hl_position","id","geometry"],["A hydrofabric specifc, globaly unique, hydrologic location identifier","The hydrologic location type (e.g. Gage, NID)","The unique identifier in the source hydrologic location dataset.","A comma seperated conncatination of hl_reference and hl_link that mirrors thse used in the NLDI","Position of hydrolocation on flowpath (inflow, outflow, along)","A hydrofabric specfic, globaly unique flowline identifier","Simple Features Geometry (POINT, LINESTRING, POLYGON)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Attribute<\/th>\n      <th>Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":35,"dom":"t","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,25,35,50,100]}},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hl</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">hydrolocations</span>, <span class="va">id</span> <span class="op">==</span> <span class="va">outflow</span><span class="op">$</span><span class="va">toid</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">hydrolocations</span>, <span class="va">hl_uri</span> <span class="op">==</span> <span class="st">"Gages-06752260"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Simple feature collection with 1 feature and 6 fields</span></span>
<span><span class="co">## Geometry type: POINT</span></span>
<span><span class="co">## Dimension:     XY</span></span>
<span><span class="co">## Bounding box:  xmin: -760037.4 ymin: 1989138 xmax: -760037.4 ymax: 1989138</span></span>
<span><span class="co">## Projected CRS: NAD83 / Conus Albers</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 7</span></span></span>
<span><span class="co">##   hl_id hl_reference hl_link  hl_uri hl_position id               geometry</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;POINT [m]&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 8118  Gages        06752260 Gages… outflow     nex-… (-760037.4 1989138)</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">glimpse</span><span class="op">(</span><span class="va">hl</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 1</span></span>
<span><span class="co">## Columns: 7</span></span>
<span><span class="co">## $ hl_id        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "8118"</span></span>
<span><span class="co">## $ hl_reference <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Gages"</span></span>
<span><span class="co">## $ hl_link      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "06752260"</span></span>
<span><span class="co">## $ hl_uri       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Gages-06752260"</span></span>
<span><span class="co">## $ hl_position  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "outflow"</span></span>
<span><span class="co">## $ id           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "nex-278699"</span></span>
<span><span class="co">## $ geometry     <span style="color: #949494; font-style: italic;">&lt;POINT [m]&gt;</span> POINT (-760037.4 1989138)</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">pid</span> <span class="op">=</span> <span class="fu">glue</span><span class="op">(</span><span class="st">'https://reference.geoconnex.us/collections/{tolower(hl$hl_reference)}/items?provider_id={hl$hl_link}'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## https://reference.geoconnex.us/collections/gages/items?provider_id=06752260</span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pid</span> <span class="op">=</span> <span class="fu">read_sf</span><span class="op">(</span><span class="va">pid</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">glimpse</span><span class="op">(</span><span class="va">pid</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 1</span></span>
<span><span class="co">## Columns: 13</span></span>
<span><span class="co">## $ id                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1015611"</span></span>
<span><span class="co">## $ fid                  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 70633</span></span>
<span><span class="co">## $ name                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "CACHE LA POUDRE RIVER AT FORT COLLINS, CO"</span></span>
<span><span class="co">## $ subjectof            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://waterdata.usgs.gov/monitoring-location/0…</span></span>
<span><span class="co">## $ provider_id          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "06752260"</span></span>
<span><span class="co">## $ nhdpv2_reach_measure <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 46.32248</span></span>
<span><span class="co">## $ mainstem_uri         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://geoconnex.us/ref/mainstems/352913"</span></span>
<span><span class="co">## $ description          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "USGS NWIS Stream/River/Lake Site 06752260: CACHE…</span></span>
<span><span class="co">## $ uri                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://geoconnex.us/ref/gages/1015611"</span></span>
<span><span class="co">## $ provider             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://waterdata.usgs.gov"</span></span>
<span><span class="co">## $ nhdpv2_reachcode     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "10190007000017"</span></span>
<span><span class="co">## $ nhdpv2_comid         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2900003</span></span>
<span><span class="co">## $ geometry             <span style="color: #949494; font-style: italic;">&lt;POINT [°]&gt;</span> POINT (-105.0692 40.58808)</span></span></code></pre>
<p>Collectively can help find, and link data!</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Use the hl_link to extract this weeks rain event</span></span>
<span><span class="va">instFlow</span> <span class="op">&lt;-</span> <span class="fu">dataRetrieval</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/dataRetrieval/man/readNWISdata.html" class="external-link">readNWISdata</a></span><span class="op">(</span></span>
<span>  sites <span class="op">=</span> <span class="va">hl</span><span class="op">$</span><span class="va">hl_link</span>, service <span class="op">=</span> <span class="st">"iv"</span>,</span>
<span>  parameterCd <span class="op">=</span> <span class="st">"00060"</span>,</span>
<span>  startDate <span class="op">=</span> <span class="st">"2023-05-10"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use PID COMID to extract the 42 year NWM flow record</span></span>
<span><span class="va">nwm21</span> <span class="op">=</span> <span class="fu">nwmTools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/nwmTools/man/readNWMdata.html" class="external-link">readNWMdata</a></span><span class="op">(</span>comid <span class="op">=</span> <span class="va">pid</span><span class="op">$</span><span class="va">nhdpv2_comid</span><span class="op">)</span></span></code></pre></div>
<p><img src="04-data-model-deep-dive_files/figure-html/unnamed-chunk-15-1.png" width="100%"></p>
<p><img src="04-data-model-deep-dive_files/figure-html/unnamed-chunk-16-1.png" width="100%"></p>
<div class="section level3">
<h3 id="multiplicity">Multiplicity<a class="anchor" aria-label="anchor" href="#multiplicity"></a>
</h3>
<p>The data design of the hydrolocation location layer intends to
represent each realization of a POI independently.</p>
<p>This means we can have a shared <code>hl_id</code> and
<code>id</code> (nexus location) but distinct <code>hl_reference</code>,
and <code>hl_link</code></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">poi</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">hydrolocations</span>, <span class="va">hl_id</span> <span class="op">==</span> <span class="fl">7253</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Simple feature collection with 3 features and 6 fields</span></span>
<span><span class="co">## Geometry type: POINT</span></span>
<span><span class="co">## Dimension:     XY</span></span>
<span><span class="co">## Bounding box:  xmin: -768368.2 ymin: 1991210 xmax: -768368.2 ymax: 1991210</span></span>
<span><span class="co">## Projected CRS: NAD83 / Conus Albers</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 7</span></span></span>
<span><span class="co">##   hl_id hl_reference hl_link  hl_uri hl_position id               geometry</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;POINT [m]&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 7253  HUC12        1019000… HUC12… outflow     nex-… (-768368.2 1991210)</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 7253  NID          CO01659… NID-C… outflow     nex-… (-768368.2 1991210)</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 7253  WBOut        2897349  WBOut… outflow     nex-… (-768368.2 1991210)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="rigorous-community-poi-mapping">Rigorous community POI mapping<a class="anchor" aria-label="anchor" href="#rigorous-community-poi-mapping"></a>
</h3>
<p>The geoconnex PID can provide the location of the source data.</p>
<p>Here we can see the community POI was moved slightly to integrate
with the reference network:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">geoconnex</span> <span class="op">=</span> <span class="fu">read_sf</span><span class="op">(</span><span class="st">'https://reference.geoconnex.us/collections/dams/items?provider_id=CO01659'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mapview</span><span class="op">(</span><span class="va">geoconnex</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span> <span class="va">poi</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-97b7ac78eb0bc78fae33" style="width:100%;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-97b7ac78eb0bc78fae33">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[40.5991,-105.1723,6,null,"geoconnex",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#FF0000","weight":1,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6},null,null,"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>fid&emsp;<\/th><td>92497&emsp;<\/td><\/tr><tr><td>2<\/td><th>uri&emsp;<\/th><td>https://geoconnex.us/ref/dams/1095806&emsp;<\/td><\/tr><tr><td>3<\/td><th>description&emsp;<\/th><td>Reference feature for USACE National Inventory of Dams: CO01659&emsp;<\/td><\/tr><tr><td>4<\/td><th>provider&emsp;<\/th><td>https://nid.usace.army.mil&emsp;<\/td><\/tr><tr><td>5<\/td><th>nhdpv2_comid&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>6<\/td><th>name&emsp;<\/th><td>Horsetooth&emsp;<\/td><\/tr><tr><td>7<\/td><th>subjectof&emsp;<\/th><td>https://nid.usace.army.mil/#/dams/system/CO01659/summary&emsp;<\/td><\/tr><tr><td>8<\/td><th>provider_id&emsp;<\/th><td>CO01659&emsp;<\/td><\/tr><tr><td>9<\/td><th>feature_data_source&emsp;<\/th><td>https://nid.usace.army.mil/#/downloads&emsp;<\/td><\/tr><tr><td>10<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-105.1723,40.5991,-105.1723,40.5991,true,"geoconnex","Zoom to geoconnex","<strong> geoconnex <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["geoconnex"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"geoconnex"}]},{"method":"addCircleMarkers","args":[[40.59923020364847,40.59923020364847,40.59923020364847],[-105.1705964138608,-105.1705964138608,-105.1705964138608],6,null,"poi",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6},null,null,["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>hl_id&emsp;<\/th><td>7253&emsp;<\/td><\/tr><tr><td>2<\/td><th>hl_reference&emsp;<\/th><td>HUC12&emsp;<\/td><\/tr><tr><td>3<\/td><th>hl_link&emsp;<\/th><td>101900070802&emsp;<\/td><\/tr><tr><td>4<\/td><th>hl_uri&emsp;<\/th><td>HUC12-101900070802&emsp;<\/td><\/tr><tr><td>5<\/td><th>hl_position&emsp;<\/th><td>outflow&emsp;<\/td><\/tr><tr><td>6<\/td><th>id&emsp;<\/th><td>nex-287191&emsp;<\/td><\/tr><tr><td>7<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>hl_id&emsp;<\/th><td>7253&emsp;<\/td><\/tr><tr><td>2<\/td><th>hl_reference&emsp;<\/th><td>NID&emsp;<\/td><\/tr><tr><td>3<\/td><th>hl_link&emsp;<\/th><td>CO01659-1&emsp;<\/td><\/tr><tr><td>4<\/td><th>hl_uri&emsp;<\/th><td>NID-CO01659-1&emsp;<\/td><\/tr><tr><td>5<\/td><th>hl_position&emsp;<\/th><td>outflow&emsp;<\/td><\/tr><tr><td>6<\/td><th>id&emsp;<\/th><td>nex-287191&emsp;<\/td><\/tr><tr><td>7<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>3&emsp;<\/td><\/tr><tr><td>1<\/td><th>hl_id&emsp;<\/th><td>7253&emsp;<\/td><\/tr><tr><td>2<\/td><th>hl_reference&emsp;<\/th><td>WBOut&emsp;<\/td><\/tr><tr><td>3<\/td><th>hl_link&emsp;<\/th><td>2897349&emsp;<\/td><\/tr><tr><td>4<\/td><th>hl_uri&emsp;<\/th><td>WBOut-2897349&emsp;<\/td><\/tr><tr><td>5<\/td><th>hl_position&emsp;<\/th><td>outflow&emsp;<\/td><\/tr><tr><td>6<\/td><th>id&emsp;<\/th><td>nex-287191&emsp;<\/td><\/tr><tr><td>7<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["1","2","3"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addHomeButton","args":[-105.1705964138608,40.59923020364847,-105.1705964138608,40.59923020364847,true,"poi","Zoom to poi","<strong> poi <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],["geoconnex","poi"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["poi"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"poi"}]},{"method":"addHomeButton","args":[-105.1723,40.5991,-105.1705964138608,40.59923020364847,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[40.5991,40.5991],"lng":[-105.1723,-105.1723]},"fitBounds":[40.5991,-105.1723,40.59923020364847,-105.1705964138608,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
</div>
<div class="section level2">
<h2 id="network">5. Network<a class="anchor" aria-label="anchor" href="#network"></a>
</h2>
<p>The network layer is tabular and has no spatial information</p>
<p>It provides the ultimate cross walk between the NextGen fabric, the
source hydrofabric, and all mapped hydrolocations.</p>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-43ebec2f5ae2f88bc36b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-43ebec2f5ae2f88bc36b">{"x":{"filter":"none","vertical":false,"data":[["id","toid","divide_id","ds_id","mainstem","hl_id","hydroseq","hl_uri","hf_source","hf_id","lengthkm","areasqkm","tot_drainage_areasqkm","type","vpu"],["A hydrofabric specfic, globaly unique flowline identifier","The identifier of the directly downstream flowpath/flowline","A hydrofabric specfic, globaly unique divide identifier","Most downstream adjacent divide. Only applicable to internal catchments","A nationally unique identifier assigned to the set of flowlines that compose a stream from its headwater to its mouth","A hydrofabric specifc, globaly unique, hydrologic location identifier","VPU based hydrologic sort. Increases from downstream to upstream","A comma seperated conncatination of hl_reference and hl_link that mirrors thse used in the NLDI","The source dataset for the hydrofabric development (e.g. NHDPlusV2)","The unique identifier in the source hydrofabric (hf_source)","The length in kilometers of the flowpath element","The area of the incremental divides","The total upstream area contributing to the feature","Type of network feature (network, internal, coastal, connector)","A processing unit used to segment large scale hydrofabrics"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Attribute<\/th>\n      <th>Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":35,"dom":"t","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,25,35,50,100]}},"evals":[],"jsHooks":[]}</script><p>This network is key to hydroindexing, data query, and network
subsetting.</p>
<div class="section level4">
<h4 id="example">Example:<a class="anchor" aria-label="anchor" href="#example"></a>
</h4>
<p><em>What is the NextGen ID near me?</em></p>
<p>Lets say we lived at this location in Laporte, CO</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pt</span> <span class="op">=</span> <span class="fu">st_sfc</span><span class="op">(</span><span class="fu">st_point</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">105.14044</span>,  <span class="fl">40.62949</span><span class="op">)</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span><span class="fu">mapview</span><span class="op">(</span><span class="va">pt</span><span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2bac621fa2e2d613d598" style="width:100%;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-2bac621fa2e2d613d598">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[40.62949,-105.14044,6,null,"pt",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":0.9,"fill":true,"fillColor":"#6666ff","fillOpacity":0.6},null,null,null,{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-105.14044,40.62949,-105.14044,40.62949,true,"pt","Zoom to pt","<strong> pt <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],"pt",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[40.62949,40.62949],"lng":[-105.14044,-105.14044]},"setView":[[40.62949,-105.14044],18,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script><p>We can use the NLDI to map the reference fabric to this point, and
then search for how the reference fabric hf_id merged into the current
network:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">x</span> <span class="op">=</span> <span class="fu">findNLDI</span><span class="op">(</span>location <span class="op">=</span> <span class="va">pt</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $origin</span></span>
<span><span class="co">## Simple feature collection with 1 feature and 3 fields</span></span>
<span><span class="co">## Geometry type: LINESTRING</span></span>
<span><span class="co">## Dimension:     XY</span></span>
<span><span class="co">## Bounding box:  xmin: -105.1512 ymin: 40.61313 xmax: -105.1206 ymax: 40.62606</span></span>
<span><span class="co">## Geodetic CRS:  WGS 84</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 4</span></span></span>
<span><span class="co">##   sourceName    identifier comid                                        geometry</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                <span style="color: #949494; font-style: italic;">&lt;LINESTRING [°]&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> NHDPlus comid 2899849    2899849 (-105.1512 40.62592, -105.1489 40.62606, -10…</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">n</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">read_sf</span><span class="op">(</span><span class="va">poudre</span>, <span class="st">"network"</span><span class="op">)</span>, <span class="va">hf_id</span> <span class="op">==</span> <span class="va">x</span><span class="op">$</span><span class="va">origin</span><span class="op">$</span><span class="va">comid</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 15</span></span></span>
<span><span class="co">##   id       toid  divide_id ds_id mainstem hl_id hydroseq hl_uri hf_source  hf_id</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> wb-2786… nex-… cat-2786…    <span style="color: #BB0000;">NA</span>   <span style="text-decoration: underline;">352</span>913 <span style="color: #BB0000;">NA</span>       <span style="text-decoration: underline;">11</span>625 <span style="color: #BB0000;">NA</span>     NHDPlusV2 2.90<span style="color: #949494;">e</span>6</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 5 more variables: lengthkm &lt;dbl&gt;, areasqkm &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   tot_drainage_areasqkm &lt;dbl&gt;, type &lt;chr&gt;, vpu &lt;chr&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">mapview</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">flowpaths</span>, <span class="va">id</span> <span class="op">==</span> <span class="va">n</span><span class="op">$</span><span class="va">id</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">divides</span>, <span class="va">divide_id</span> <span class="op">==</span> <span class="va">n</span><span class="op">$</span><span class="va">divide_id</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">nexus</span>, <span class="va">id</span> <span class="op">==</span> <span class="va">n</span><span class="op">$</span><span class="va">toid</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="va">pt</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a32c3f38864993448bab" style="width:100%;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-a32c3f38864993448bab">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["line",430]},{"method":"addPolylines","args":[[[[{"lng":[-105.1555680805508,-105.1553578138845,-105.1543364805527,-105.153735813887,-105.1527146138886,-105.1511528805576,-105.1489304805612,-105.1481496138956,-105.1462874805652,-105.1443052139017,-105.1435242805695,-105.140851213907,-105.1404306805744,-105.1402202805746,-105.1401600805748,-105.1399798805751,-105.1394692139092,-105.1390486805765,-105.1366762805801,-105.134844480583,-105.1338834805845,-105.1326520139198,-105.1310604139222,-105.1285078805928,-105.1281176139268,-105.127306813928,-105.1269464139286,-105.1267962139288,-105.1259554139301,-105.1259554139301,-105.1255350139307,-105.1250546139315,-105.1218716139365,-105.1210308806045,-105.120820813938,-105.120640680605,-105.1194996139402,-105.1187490139413,-105.1185988139416,-105.1184786806084,-105.118088280609,-105.117607813943,-105.1170072806107,-105.1158662139458,-105.1152956806134,-105.1146652806143,-105.114455213948,-105.1136446139492,-105.1126238139508,-105.1119932139518,-105.1109422806201,-105.1100414806215,-105.1095310139556,-105.1084200139572,-105.1077294139585,-105.1068586139598,-105.1064084806272,-105.1063484139605,-105.1062584806274,-105.1061384139609,-105.1056282806284,-105.1043976139636,-105.1043074806304,-105.1040974139641,-105.103527213965,-105.1034670806317],"lat":[40.62678587027256,40.6267630702726,40.62621420360678,40.62603120360694,40.6259400036072,40.62591747027386,40.62605527027345,40.62591820360704,40.6254150702746,40.62498060360874,40.62472907027573,40.62353960361081,40.62312767027823,40.62244120361273,40.62186920361348,40.62157180361392,40.62102260361486,40.6207022702818,40.62035940361574,40.62031380361595,40.62003927028289,40.61955887028368,40.61905560361789,40.61919287028428,40.61912427028432,40.61846067028544,40.61761400362001,40.61740807028706,40.61665287028816,40.61656140362166,40.61603507028907,40.61571480362301,40.61479947029095,40.61422727029197,40.61335780362675,40.61312887029353,40.61290000362735,40.61290000362735,40.61296860362724,40.61322027029363,40.613609270293,40.61388380362582,40.61404400362551,40.61411260362563,40.61390660362576,40.61342600362659,40.61251067029467,40.61180127029578,40.61164100362929,40.61182400362912,40.61170940362916,40.61177800362903,40.61189227029563,40.61234980362818,40.61234967029488,40.61209787029539,40.61145707029637,40.6109536036305,40.61088500363047,40.6103816036314,40.60937460363284,40.6083674703012,40.60816160363475,40.6081156703014,40.60756647030233,40.60720040363629]}]]],null,"filter(flowpaths, id == n$id)",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"line","stroke":true,"color":"#6666FF","weight":2,"opacity":0.9,"fill":false,"fillColor":"#6666FF","fillOpacity":1,"smoothFactor":1,"noClip":false},"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>wb-278696&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278697&emsp;<\/td><\/tr><tr><td>3<\/td><th>mainstem&emsp;<\/th><td>352913&emsp;<\/td><\/tr><tr><td>4<\/td><th>order&emsp;<\/th><td>5&emsp;<\/td><\/tr><tr><td>5<\/td><th>hydroseq&emsp;<\/th><td>11625&emsp;<\/td><\/tr><tr><td>6<\/td><th>lengthkm&emsp;<\/th><td>5.652614&emsp;<\/td><\/tr><tr><td>7<\/td><th>areasqkm&emsp;<\/th><td>21.53295&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>2932.57&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_divide&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>divide_id&emsp;<\/th><td>cat-278696&emsp;<\/td><\/tr><tr><td>11<\/td><th>geom&emsp;<\/th><td>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":3,"opacity":1,"fill":false,"fillOpacity":0,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-105.1555680805508,40.60720040363629,-105.1034670806317,40.62678587027256,true,"filter(flowpaths, id == n$id)","Zoom to filter(flowpaths, id == n$id)","<strong> filter(flowpaths, id == n$id) <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["filter(flowpaths, id == n$id)"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"filter(flowpaths, id == n$id)"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[-105.1248984974891,-105.1250356044615,-105.1254601049884,-105.1283074971896,-105.1283761037091,-105.1312578011712,-105.1331874039008,-105.1322355004519,-105.1319609977334,-105.1335688997338,-105.1360601030774,-105.1381267958887,-105.1403776050562,-105.1425252966987,-105.1441671994413,-105.1439953973094,-105.1462801979428,-105.1461770979739,-105.1478187958045,-105.1488862950748,-105.1515609965099,-105.1518481006025,-105.1543387000411,-105.1553598035744,-105.1568175017328,-105.1639337962919,-105.165024099073,-105.1658390034774,-105.1661143957298,-105.1665046953544,-105.1669179012784,-105.1675492012795,-105.168329801028,-105.1688923003178,-105.1694203992564,-105.1687431001758,-105.1689152978789,-105.1678820995235,-105.1659876954028,-105.1660565959171,-105.1647362982019,-105.1648050953215,-105.1631631987427,-105.1624513959254,-105.1618771983484,-105.1593051014526,-105.1587996055235,-105.1581222021572,-105.1582597956271,-105.156227195774,-105.1564680947418,-105.155928099094,-105.1546074032933,-105.1547105995024,-105.1573745954925,-105.1575810046885,-105.1579369982399,-105.159108296865,-105.1592460010578,-105.1645860986127,-105.1656884992758,-105.1652176030118,-105.1658491992434,-105.1662280999724,-105.1680772011146,-105.168640003706,-105.169455501539,-105.1685250970022,-105.1671354004009,-105.1655273008849,-105.1634253042021,-105.1624260056196,-105.1618860050778,-105.1621614960605,-105.1615181985995,-105.1618281041943,-105.1608630959985,-105.1590480946302,-105.1554868977506,-105.1536031006162,-105.1534654981845,-105.1520409993433,-105.152281905051,-105.1550499998907,-105.155290900276,-105.1560720053982,-105.1562440982428,-105.1544633960515,-105.1545666023482,-105.1557382957854,-105.1551636991386,-105.1558640024918,-105.1589543965784,-105.1590576965298,-105.1609419993523,-105.1614014991619,-105.1628951976102,-105.1637109034607,-105.1652046009733,-105.1675140960154,-105.167330298941,-105.1663306012079,-105.1645495053957,-105.1633313977887,-105.1616190979465,-105.157344396463,-105.1569537994776,-105.1567815979471,-105.1556441052796,-105.1554374994184,-105.1519563040119,-105.1511063013496,-105.1489691047993,-105.1492565010575,-105.1486250954678,-105.148281197404,-105.1476498968202,-105.1465814022858,-105.1446287003143,-105.1444224020928,-105.1424697953638,-105.1419762002792,-105.140736001178,-105.1403236961413,-105.1394740036462,-105.1390960963246,-105.1393148010071,-105.1377530945947,-105.1372036037358,-105.1378126984451,-105.1395243003786,-105.139386900407,-105.1383186952275,-105.1367228037993,-105.1345865046607,-105.1307858006906,-105.1304770014671,-105.1285595968469,-105.1284223971061,-105.1307085967499,-105.1304684958422,-105.1294005046644,-105.1289071959118,-105.1265655026632,-105.1251757997114,-105.1232587037768,-105.1230872958338,-105.1223409982119,-105.1224570966913,-105.1212863026296,-105.1202183948971,-105.1189791976024,-105.1171308031628,-105.117028000092,-105.1152140043891,-105.1125168037422,-105.1114147005851,-105.1083274989216,-105.1059180973346,-105.1047477025289,-105.1031530039125,-105.1016949993979,-105.1010997968981,-105.1017431984118,-105.1031669029165,-105.1026399952751,-105.1034682986158,-105.1052478014343,-105.108060801985,-105.1098744986198,-105.1106890011255,-105.1117223983669,-105.1152814026341,-105.1160958947072,-105.1171636051698,-105.1176222969477,-105.1202163011136,-105.1211337046699,-105.1226258992524,-105.1248984974891],"lat":[40.61190569709338,40.61297210233707,40.61347969707555,40.61327420247505,40.61380740174997,40.61386850207561,40.61211459839966,40.61029979767964,40.60816699747345,40.60670539907543,40.60652549853465,40.60583799678924,40.60379180306671,40.60094570221403,40.59975059641315,40.59841759826707,40.59663790415529,40.59583810201163,40.59464300341005,40.5945658023002,40.5930267969808,40.59246790135167,40.59228759948657,40.59463539946666,40.59479889690905,40.59428340128712,40.59716430131646,40.59791250258811,40.60004530134091,40.60028609689173,40.60348519719812,40.60559219761874,40.60607380196853,40.60764759678404,40.6089547000461,40.60927290254453,40.61060589998512,40.61094989828324,40.61297089873769,40.61350400395473,40.61440699892773,40.61494020106464,40.61613549688708,40.61618710309071,40.61730510246242,40.61964409751018,40.62129520273131,40.62161340334463,40.62267979805866,40.62363420321682,40.62550039775893,40.62688489816753,40.62778779760499,40.62858759753243,40.6297402979065,40.63133989964694,40.63131409727946,40.6320365985535,40.63310300247197,40.632716301164,40.63290549695396,40.63482329808556,40.63693029907561,40.63986290239516,40.64026709877433,40.64184089678257,40.64258910275967,40.6437329994304,40.64410279674266,40.64556469987529,40.64598609639955,40.64659660290687,40.64798120263037,40.6501140981586,40.6506988012578,40.65309829782306,40.65397549692393,40.65383769911571,40.65409539932934,40.65342440264563,40.65235799763324,40.65246099789165,40.65432730101741,40.65627979600841,40.65814609737826,40.65862780192899,40.65996079669627,40.66008960064504,40.66088939703313,40.66161199696094,40.66272989912205,40.6653702992589,40.66703039769326,40.66783020001682,40.66850110113418,40.66927520342128,40.66970530132417,40.67045349794608,40.67088359612696,40.67206180036639,40.67342069882559,40.67403129970636,40.67416020229303,40.67586300071658,40.67652520015599,40.67683449725929,40.67659370250758,40.67526060017474,40.67480469928515,40.67320499745367,40.67130400158758,40.67028899944917,40.67044349749976,40.66988459683409,40.66777740068996,40.66511130178385,40.66300420231624,40.66308140235459,40.66187700251432,40.66027730381186,40.65907289867823,40.65803219723058,40.65677630113218,40.65357700334766,40.65256199738968,40.64962929941613,40.64853709909448,40.64757349887471,40.64330779843555,40.64245650087996,40.64179470204405,40.64072830075658,40.64080540037002,40.63957519644397,40.63972949705458,40.63812020340562,40.63572069701303,40.63478269907866,40.6337162975839,40.63193680129751,40.63007049882671,40.630147598937,40.62910680262973,40.62766130356049,40.62803059623175,40.6270926016492,40.62575949680483,40.62554430117979,40.62365229720949,40.62292950265426,40.62300650188079,40.62175039910974,40.62134549649608,40.62054569714492,40.62040730318515,40.61898719633058,40.61879749635152,40.61713629756736,40.61515710328913,40.61443420221174,40.6132035971402,40.61303940400349,40.61119869938308,40.61061429690618,40.61051180163798,40.60920439827363,40.6072611984986,40.60713309627272,40.60666150277882,40.60680000108405,40.60754850009604,40.60720500274426,40.60694849871761,40.60769709721849,40.60762009919715,40.60839429844751,40.60901450139676,40.61056280269085,40.61099330225681,40.61190569709338]}]]],null,"filter(divides, divide_id == n$divide_id)",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6,"smoothFactor":1,"noClip":false},"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>divide_id&emsp;<\/th><td>cat-278696&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>nex-278697&emsp;<\/td><\/tr><tr><td>3<\/td><th>type&emsp;<\/th><td>network&emsp;<\/td><\/tr><tr><td>4<\/td><th>ds_id&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>5<\/td><th>areasqkm&emsp;<\/th><td>21.53295&emsp;<\/td><\/tr><tr><td>6<\/td><th>id&emsp;<\/th><td>wb-278696&emsp;<\/td><\/tr><tr><td>7<\/td><th>lengthkm&emsp;<\/th><td>5.652614&emsp;<\/td><\/tr><tr><td>8<\/td><th>tot_drainage_areasqkm&emsp;<\/th><td>2932.57&emsp;<\/td><\/tr><tr><td>9<\/td><th>has_flowline&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>10<\/td><th>geom&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addHomeButton","args":[-105.169455501539,40.59228759948657,-105.1010997968981,40.67683449725929,true,"filter(divides, divide_id == n$divide_id)","Zoom to filter(divides, divide_id == n$divide_id)","<strong> filter(divides, divide_id == n$divide_id) <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["filter(divides, divide_id == n$divide_id)"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"filter(divides, divide_id == n$divide_id)"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[40.60720040363629,-105.1034670806317,6,null,"filter(nexus, id == n$toid)",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6},null,null,"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>nex-278697&emsp;<\/td><\/tr><tr><td>2<\/td><th>toid&emsp;<\/th><td>wb-278697&emsp;<\/td><\/tr><tr><td>3<\/td><th>hl_id&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>4<\/td><th>hl_uri&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>5<\/td><th>type&emsp;<\/th><td>nexus&emsp;<\/td><\/tr><tr><td>6<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addHomeButton","args":[-105.1034670806317,40.60720040363629,-105.1034670806317,40.60720040363629,true,"filter(nexus, id == n$toid)","Zoom to filter(nexus, id == n$toid)","<strong> filter(nexus, id == n$toid) <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["filter(nexus, id == n$toid)"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"filter(nexus, id == n$toid)"}]},{"method":"addCircleMarkers","args":[40.62949,-105.14044,6,null,"pt",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":0.9,"fill":true,"fillColor":"#6666ff","fillOpacity":0.6},null,null,null,{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addHomeButton","args":[-105.14044,40.62949,-105.14044,40.62949,true,"pt","Zoom to pt","<strong> pt <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],["filter(flowpaths, id == n$id)","filter(divides, divide_id == n$divide_id)","filter(nexus, id == n$toid)","pt"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addHomeButton","args":[-105.169455501539,40.59228759948657,-105.1010997968981,40.67683449725929,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[40.60720040363629,40.62678587027256],"lng":[-105.1555680805508,-105.1034670806317]},"fitBounds":[40.59228759948657,-105.169455501539,40.67683449725929,-105.1010997968981,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
</div>
<div class="section level2">
<h2 id="flowpath-attributes">6. Flowpath Attributes<a class="anchor" aria-label="anchor" href="#flowpath-attributes"></a>
</h2>
<ul>
<li><p>Flowpath attributes are extracted from the NWM Routelink
file.</p></li>
<li><p>The network layer is used to “length weight average” these
attributes to the new network.</p></li>
</ul>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-442b9aa199026178686a" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-442b9aa199026178686a">{"x":{"filter":"none","vertical":false,"data":[["id","rl_gages",null,"Qi","MusK","MusX","n","So","ChSlp","BtmWdth","time","Kchan","nCC","TopWdthCC","TopWdth","length_m"],["A hydrofabric specfic, globaly unique flowline identifier","NHD Gage Event ID from SOURCE_FEA field in Gages feature class",null,"Length weighted Initial flow in link (CMS)","Length weighted  Muskingum routing time (s)","Length weighted  Muskingum weighting coefficient","Length weighted Manning's roughness","Slope computed from the aggregated flow network","Length weighted Channel side slope","Length weighted Bottom width of channel (m)","time of measurement","Length weighted channel conductivity","Length weighted Compound Channel Manning's n","Compound Channel Top Width (m)","Length weighted Top Width (m)","Length computed from the aggregated flow network"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Attribute<\/th>\n      <th>Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":35,"dom":"t","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,25,35,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="lakes">7. Lakes<a class="anchor" aria-label="anchor" href="#lakes"></a>
</h2>
<p>Lake attributes are extracted from the NWM Lake file file.</p>
<p>The network layer is used to “length weight average” these attributes
to the new network.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lakes</span> <span class="op">=</span> <span class="fu">read_sf</span><span class="op">(</span><span class="va">poudre</span>, <span class="st">"lakes"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">hl_id</span> <span class="op">==</span> <span class="fl">7253</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">glimpse</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 1</span></span>
<span><span class="co">## Columns: 18</span></span>
<span><span class="co">## $ id           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "nex-287191"</span></span>
<span><span class="co">## $ toid         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "wb-287191"</span></span>
<span><span class="co">## $ hl_id        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "7253"</span></span>
<span><span class="co">## $ hl_reference <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "WBOut"</span></span>
<span><span class="co">## $ hl_link      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2897349</span></span>
<span><span class="co">## $ hl_uri       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "WBOut-2897349"</span></span>
<span><span class="co">## $ Dam_Length   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 10</span></span>
<span><span class="co">## $ ifd          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.9</span></span>
<span><span class="co">## $ LkArea       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 6.87471</span></span>
<span><span class="co">## $ LkMxE        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1678.71</span></span>
<span><span class="co">## $ OrificeA     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1</span></span>
<span><span class="co">## $ OrificeC     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.1</span></span>
<span><span class="co">## $ OrificeE     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1625.35</span></span>
<span><span class="co">## $ time         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0</span></span>
<span><span class="co">## $ WeirC        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.4</span></span>
<span><span class="co">## $ WeirE        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1670.706</span></span>
<span><span class="co">## $ WeirL        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 10</span></span>
<span><span class="co">## $ geom         <span style="color: #949494; font-style: italic;">&lt;POINT&gt;</span> POINT (-768368.2 1991210)</span></span></code></pre>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-e3d9e92faa78377feb4e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e3d9e92faa78377feb4e">{"x":{"filter":"none","vertical":false,"data":[["id","toid","hl_id","hl_reference","hl_link","hl_uri","Dam_Length","ifd","LkArea","LkMxE","OrificeA","OrificeC","OrificeE","time","WeirC","WeirE","WeirL",null],["A hydrofabric specfic, globaly unique flowline identifier","The identifier of the directly downstream flowpath/flowline","A hydrofabric specifc, globaly unique, hydrologic location identifier","The hydrologic location type (e.g. Gage, NID)","The unique identifier in the source hydrologic location dataset.","A comma seperated conncatination of hl_reference and hl_link that mirrors thse used in the NLDI","Dam Length (m)","Initial fraction water depth","Lake area (sq. km)","Maximum lake elevation (m ASL)","Orifice cross-sectional area (sq. m)","Orifice coefficient","Orifice elevation (m ASL)","time of measurement","Weir coefficient","Weir elevation (m ASL)","Weir length (m)",null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Attribute<\/th>\n      <th>Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":35,"dom":"t","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,25,35,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="layer-style">8. Layer Style<a class="anchor" aria-label="anchor" href="#layer-style"></a>
</h2>
<ul>
<li><p>When you open a hydrofabric gpkg created with many of the
<code>hydrofab</code> tools, you will find they load with a consistent
symbology.</p></li>
<li><p>These symbologies are saved with the Geopackage using the
<code><a href="https://rdrr.io/pkg/hydrofab/man/append_style.html" class="external-link">hydrofab::append_style()</a></code></p></li>
<li><p>Built on reference <a href="https://github.com/mikejohnson51/hydrofab/tree/master/inst/qml" class="external-link">QGIS
QML files</a>.</p></li>
</ul>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">read_sf</span><span class="op">(</span><span class="va">poudre</span>, <span class="st">"layer_styles"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span><span class="fu">glimpse</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 5</span></span>
<span><span class="co">## Columns: 12</span></span>
<span><span class="co">## $ f_table_catalog   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", ""</span></span>
<span><span class="co">## $ f_table_schema    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", ""</span></span>
<span><span class="co">## $ f_table_name      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "divides", "nexus", "flowpaths", "hydrolocations", "…</span></span>
<span><span class="co">## $ f_geometry_column <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "geom", "geom", "geom", "geom", "geom"</span></span>
<span><span class="co">## $ styleName         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "divides__hydrofabric_style", "nexus__hydrofabric_st…</span></span>
<span><span class="co">## $ styleQML          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "&lt;!DOCTYPE qgis PUBLIC 'http://mrcc.com/qgis.dtd' 'S…</span></span>
<span><span class="co">## $ styleSLD          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", ""</span></span>
<span><span class="co">## $ useAsDefault      <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> TRUE, TRUE, TRUE, TRUE, TRUE</span></span>
<span><span class="co">## $ description       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Generated for hydrofabric", "Generated for hydrofab…</span></span>
<span><span class="co">## $ owner             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", ""</span></span>
<span><span class="co">## $ ui                <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> NA, NA, NA, NA, NA</span></span>
<span><span class="co">## $ update_time       <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2023-10-12 12:53:35, 2023-10-12 12:53:35, 2023-10-12…</span></span></code></pre>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"qml"</span>, <span class="st">"divides.qml"</span>, package <span class="op">=</span> <span class="st">"hydrofab"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "&lt;!DOCTYPE qgis PUBLIC 'http://mrcc.com/qgis.dtd' 'SYSTEM'&gt;"                                                                             </span></span>
<span><span class="co">##  [2] "&lt;qgis version=\"3.22.6-Białowieża\" styleCategories=\"Symbology\"&gt;"                                                                     </span></span>
<span><span class="co">##  [3] "  &lt;renderer-v2 enableorderby=\"0\" attr=\"type\" forceraster=\"0\" type=\"categorizedSymbol\" symbollevels=\"0\" referencescale=\"-1\"&gt;"</span></span>
<span><span class="co">##  [4] "    &lt;categories&gt;"                                                                                                                       </span></span>
<span><span class="co">##  [5] "      &lt;category symbol=\"0\" value=\"coastal\" label=\"coastal\" render=\"true\"/&gt;"                                                     </span></span>
<span><span class="co">##  [6] "      &lt;category symbol=\"1\" value=\"network\" label=\"network\" render=\"true\"/&gt;"                                                     </span></span>
<span><span class="co">##  [7] "      &lt;category symbol=\"2\" value=\"internal\" label=\"internal\" render=\"true\"/&gt;"                                                   </span></span>
<span><span class="co">##  [8] "      &lt;category symbol=\"4\" value=\"terminal\" label=\"terminal\" render=\"true\"/&gt;"                                                   </span></span>
<span><span class="co">##  [9] "    &lt;/categories&gt;"                                                                                                                      </span></span>
<span><span class="co">## [10] "    &lt;symbols&gt;"                                                                                                                          </span></span>
<span><span class="co">## [11] "      &lt;symbol name=\"0\" force_rhr=\"0\" clip_to_extent=\"1\" alpha=\"1\" type=\"fill\"&gt;"                                               </span></span>
<span><span class="co">## [12] "        &lt;data_defined_properties&gt;"                                                                                                      </span></span>
<span><span class="co">## [13] "          &lt;Option type=\"Map\"&gt;"                                                                                                        </span></span>
<span><span class="co">## [14] "            &lt;Option name=\"name\" value=\"\" type=\"QString\"/&gt;"                                                                        </span></span>
<span><span class="co">## [15] "            &lt;Option name=\"properties\"/&gt;"                                                                                              </span></span>
<span><span class="co">## [16] "            &lt;Option name=\"type\" value=\"collection\" type=\"QString\"/&gt;"                                                              </span></span>
<span><span class="co">## [17] "          &lt;/Option&gt;"                                                                                                                    </span></span>
<span><span class="co">## [18] "        &lt;/data_defined_properties&gt;"                                                                                                     </span></span>
<span><span class="co">## [19] "        &lt;layer locked=\"0\" class=\"SimpleFill\" enabled=\"1\" pass=\"0\"&gt;"                                                             </span></span>
<span><span class="co">## [20] "          &lt;Option type=\"Map\"&gt;"</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/mikejohnson51" class="external-link">Mike Johnson</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
